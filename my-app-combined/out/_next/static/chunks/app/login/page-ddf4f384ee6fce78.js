(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5823:(e,a,s)=>{Promise.resolve().then(s.bind(s,8007))},8007:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>b});var t=s(5155),r=s(2115),l=s(5695),i=s(9982),n=s(7168),o=s(9852),c=s(6220),d=s(8482),u=s(1135),h=s(4416),g=s(8883),m=s(9099),x=s(3999),p=s(1204);function b(){let[e,a]=(0,r.useState)(""),[s,b]=(0,r.useState)(""),[y,v]=(0,r.useState)(null),[f,w]=(0,r.useState)(!1),j=(0,l.useRouter)(),N=p.$W.supabase.url,k=p.$W.supabase.anonKey,I=(0,i.kT)(N,k),S=async a=>{a.preventDefault(),w(!0),v(null);try{let a=(0,p.hV)();if(console.log("Supabase config validation:",a),!a.isValid){v("Configuration error: Supabase keys are not valid. Please contact the administrator."),w(!1);return}let{data:t,error:r}=await I.auth.signInWithPassword({email:e,password:s});r?(v(r.message),w(!1)):t.user&&j.push((0,x.a)("/"))}catch(e){console.error("Login error:",e),v("Unexpected error: ".concat(e instanceof Error?e.message:"Unknown error")),w(!1)}},A=async()=>{w(!0),v(null);let{error:e}=await I.auth.signInWithOAuth({provider:"github",options:{redirectTo:"https://benjamalegni.github.io/auth/callback"}});e&&(v(e.message),w(!1))},C=async()=>{w(!0),v(null);try{console.log("Initiating Google OAuth with redirectTo:","https://benjamalegni.github.io/auth/callback");let{data:e,error:a}=await I.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://benjamalegni.github.io/auth/callback",queryParams:{access_type:"offline",prompt:"consent"}}});a?(console.error("Google OAuth error:",a),a.message.includes("Provider not enabled")?v("Google sign-in is not configured. Please contact the administrator."):a.message.includes("Invalid redirect URI")?v("Configuration error: Invalid redirect URI. Please contact the administrator."):v("Google sign-up error: ".concat(a.message)),w(!1)):(console.log("Google OAuth initiated successfully"),console.log("OAuth response:",e))}catch(e){console.error("Unexpected error during Google sign-in:",e),v("An unexpected error occurred. Please try again."),w(!1)}};return(0,t.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-black",children:(0,t.jsxs)(d.Zp,{className:"w-full max-w-md bg-gray-900 border-gray-700 relative",children:[(0,t.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>{j.push((0,x.a)("/"))},className:"absolute top-2 right-2 text-gray-400 hover:text-white hover:bg-gray-800 transition-colors",children:(0,t.jsx)(h.A,{className:"h-5 w-5"})}),(0,t.jsxs)(d.aR,{className:"space-y-1",children:[(0,t.jsx)(d.ZB,{className:"text-2xl font-bold text-center text-white",children:"Access FF"}),(0,t.jsx)(d.BT,{className:"text-center text-gray-400",children:"Enter your credentials to access your account"})]}),(0,t.jsxs)(d.Wu,{className:"space-y-4",children:[(0,t.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"email",className:"text-white",children:"Email address"}),(0,t.jsx)(o.p,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>a(e.target.value),placeholder:"you@example.com",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"password",className:"text-white",children:"Password"}),(0,t.jsx)(o.p,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s,onChange:e=>b(e.target.value),placeholder:"••••••••",className:"bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),y&&(0,t.jsx)("div",{className:"text-sm text-red-400 bg-red-900/20 p-3 rounded-md border border-red-800",children:y}),(0,t.jsx)(n.$,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:f,children:f?"Signing In...":"Sign In"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)(u.w,{className:"w-full bg-gray-700"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,t.jsx)("span",{className:"bg-gray-900 px-2 text-gray-400",children:"Or continue with"})})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(n.$,{variant:"outline",onClick:C,disabled:f,className:"w-full border-gray-600 text-black hover:text-white hover:bg-gray-800 transition-colors",children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Sign In with Google"]}),(0,t.jsxs)(n.$,{variant:"outline",onClick:A,disabled:f,className:"w-full border-gray-600 text-black hover:text-white hover:bg-gray-800 transition-colors",children:[(0,t.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Sign In with GitHub"]})]}),(0,t.jsxs)("div",{className:"text-center text-sm text-gray-400",children:["Don't have an account?"," ",(0,t.jsx)("a",{href:(0,x.a)("/signup"),className:"font-medium text-blue-400 hover:text-blue-300 underline",children:"Sign Up"})]})]})]})})}}},e=>{e.O(0,[277,261,770,441,964,358],()=>e(e.s=5823)),_N_E=e.O()}]);