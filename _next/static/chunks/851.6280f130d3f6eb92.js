"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[851],{2851:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(5155),o=n(2115),r=n(7431),s=n(5416),i=n(9311);function l(){let e=(0,o.useRef)(null),t=(0,o.useRef)(null),n=(0,o.useRef)(null),l=(0,o.useRef)(null),d=(0,o.useRef)(null),[c,u]=(0,o.useState)(!1),[w,m]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{if(!e.current)return;let a=new r.Z58;t.current=a,a.background=new r.Q1f(0);let o=new r.ubm(75,e.current.clientWidth/e.current.clientHeight,.1,1e3);o.position.set(0,1,3);let w=new r.JeP({antialias:!0,alpha:!0});n.current=w,w.setSize(e.current.clientWidth,e.current.clientHeight),w.shadowMap.enabled=!0,w.shadowMap.type=r.Wk7,w.outputColorSpace=r.er$,e.current.appendChild(w.domElement);let h=new s.N(o,w.domElement);d.current=h,h.enableDamping=!0,h.dampingFactor=.05,h.screenSpacePanning=!1,h.minDistance=1.5,h.maxDistance=8,h.maxPolarAngle=.9*Math.PI,h.enableZoom=!0,h.enableRotate=!0,h.enablePan=!0,h.autoRotate=!0,h.autoRotateSpeed=.5;let p=()=>{console.log("Interaction started"),u(!0),h.autoRotate=!1},f=()=>{console.log("Interaction ended"),u(!1),setTimeout(()=>{c||(h.autoRotate=!0)},2e3)},g=()=>{console.log("Mouse down detected"),u(!0),h.autoRotate=!1},v=()=>{console.log("Mouse up detected"),setTimeout(()=>{u(!1),h.autoRotate=!0},2e3)},b=()=>{console.log("Touch start detected"),u(!0),h.autoRotate=!1},E=()=>{console.log("Touch end detected"),setTimeout(()=>{u(!1),h.autoRotate=!0},2e3)};h.addEventListener("start",p),h.addEventListener("end",f),e.current&&(e.current.addEventListener("mousedown",g),e.current.addEventListener("mouseup",v),e.current.addEventListener("touchstart",b),e.current.addEventListener("touchend",E));let x=new r.$p8(4210752,.8);a.add(x);let L=new r.ZyN(0xffffff,1.2);L.position.set(5,10,5),L.castShadow=!0,L.shadow.mapSize.width=2048,L.shadow.mapSize.height=2048,a.add(L);let S=new r.HiM(0xffd700,1,100);S.position.set(-5,5,5),a.add(S);let M=new r.nCl(0xffffff,1);M.position.set(0,15,0),M.angle=Math.PI/6,M.penumbra=.1,M.decay=2,M.distance=200,M.castShadow=!0,a.add(M);let R=new i.B,y=null;R.load("/wall-street-charging-bull/source/poly.glb",e=>{(y=e.scene).scale.set(.8,.8,.8),y.position.set(0,-.5,0),y.traverse(e=>{e instanceof r.eaF&&(e.castShadow=!0,e.receiveShadow=!0,e.material&&(Array.isArray(e.material)?e.material.forEach(e=>{e instanceof r._4j&&(e.metalness=.3,e.roughness=.7)}):e.material instanceof r._4j&&(e.material.metalness=.3,e.material.roughness=.7)))}),a.add(y),m(!1);let t=new r.NRn().setFromObject(y),n=t.getCenter(new r.Pq0),s=t.getSize(new r.Pq0),i=Math.abs(Math.max(s.x,s.y,s.z)/2/Math.tan(o.fov*(Math.PI/180)/2));o.position.set(0,n.y,1.5*i),o.lookAt(n),h.target.copy(n),h.update()},e=>{console.log("Loading progress:",e.loaded/e.total*100+"%")},e=>{console.error("Error loading model:",e),m(!1),z()});let z=()=>{let e=new r.YJl,t=new r.Ho_(1.5,2,2,8),n=new r.tXL({color:0xdaa520,shininess:100,specular:4473924}),o=new r.eaF(t,n);o.castShadow=!0,o.receiveShadow=!0,e.add(o);let s=new r.Ho_(.1,.1,1.5,6),i=new r.tXL({color:6636321}),l=new r.eaF(s,i);l.position.set(.8,1,0),l.rotation.z=Math.PI/4,l.castShadow=!0,e.add(l);let d=new r.eaF(s,i);d.position.set(-.8,1,0),d.rotation.z=-Math.PI/4,d.castShadow=!0,e.add(d);let c=new r.Gu$(.15,8,8),u=new r.tXL({color:0}),w=new r.eaF(c,u);w.position.set(.5,.3,1.2),e.add(w);let m=new r.eaF(c,u);m.position.set(-.5,.3,1.2),e.add(m);let h=new r.Gu$(.2,8,8),p=new r.tXL({color:0}),f=new r.eaF(h,p);f.position.set(0,-.5,1.5),e.add(f),y=e,a.add(y)},P=new r.bdM(20,20),F=new r.G_z({color:3355443}),j=new r.eaF(P,F);j.rotation.x=-Math.PI/2,j.position.y=-2,j.receiveShadow=!0,a.add(j);let k=()=>{if(l.current=requestAnimationFrame(k),h&&h.update(),y){let e=1+.02*Math.sin(.002*Date.now());y.scale.set(.8*e,.8*e,.8*e),!c&&h.autoRotate&&(y.rotation.y+=.01)}S.position.x=5*Math.sin(.001*Date.now()),S.position.z=5*Math.cos(.001*Date.now()),w.render(a,o)};k();let N=()=>{if(!e.current||!w||!o)return;let t=e.current.clientWidth,n=e.current.clientHeight;o.aspect=t/n,o.updateProjectionMatrix(),w.setSize(t,n)};return window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N),h&&(h.removeEventListener("start",p),h.removeEventListener("end",f)),e.current&&(e.current.removeEventListener("mousedown",g),e.current.removeEventListener("mouseup",v),e.current.removeEventListener("touchstart",b),e.current.removeEventListener("touchend",E)),l.current&&cancelAnimationFrame(l.current),e.current&&w.domElement&&e.current.removeChild(w.domElement),w.dispose()}},[]),(0,a.jsx)("div",{ref:e,className:"w-full h-full absolute inset-0 transition-all duration-300 ".concat(c?"cursor-grabbing":"cursor-grab"),style:{background:"linear-gradient(to bottom, #1a1a1a, #000000)"},children:w&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10",children:(0,a.jsxs)("div",{className:"text-white text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-400 mx-auto mb-4"}),(0,a.jsx)("p",{children:"Loading Wall Street Bull 3D model..."})]})})})}}}]);