(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3999:(e,t,a)=>{"use strict";a.d(t,{a:()=>o,cn:()=>n});var s=a(2596),r=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}function o(e){let t="benjamalegni.github.io"===window.location.hostname||window.location.pathname.startsWith("/financialfeeling");return"".concat(t?"/financialfeeling":"").concat(e)}},7168:(e,t,a)=>{"use strict";a.d(t,{$:()=>i});var s=a(5155);a(2115);var r=a(9708),n=a(2085),o=a(3999);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i(e){let{className:t,variant:a,size:n,asChild:i=!1,...c}=e,d=i?r.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,o.cn)(l({variant:a,size:n,className:t})),...c})}},8482:(e,t,a)=>{"use strict";a.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>o});var s=a(5155);a(2115);var r=a(3999);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},8525:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var s=a(5155),r=a(2115);async function n(e){try{let t="https://ffaiagent-n8n-production.up.railway.app/webhook-test/analyze-stocks";console.log("Attempting to call n8n webhook:",t);let a=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stocks:e})});if(console.log("n8n response status:",a.status),a.ok){let e=await a.json();return console.log("n8n analysis result:",e),{...e,timestamp:new Date().toISOString()}}{let t=await a.text();return console.error("n8n webhook error:",a.status,t),console.log("n8n not available, using mock data"),o(e)}}catch(t){return console.log("n8n not available or failed, using mock data:",t),o(e)}}function o(e){return{stocks:e.map((e,t)=>({symbol:e,analysis:{sentiment:["positive","negative","neutral"][t%3],confidence:Math.floor(30*Math.random())+70,news:["Strong earnings report exceeds expectations","Regulatory concerns impact market sentiment","Stable performance with moderate growth outlook"][t%3],recommendation:["Buy - Strong fundamentals and growth potential","Hold - Monitor regulatory developments","Hold - Stable performance expected"][t%3]}})),timestamp:new Date().toISOString(),note:"Mock data - n8n workflow not active or not configured"}}function l(e){let{selectedAssets:t=[],onAnalysisComplete:a}=e,[o,l]=(0,r.useState)(!1),i=async()=>{if(0===t.length)return void alert("❌ No hay assets seleccionados para analizar. Selecciona assets en tu portfolio primero.");l(!0);try{console.log("Iniciando an\xe1lisis de acciones...",t);let e=await n(t);console.log("An\xe1lisis completado:",e),a&&a(e);let s="✅ An\xe1lisis de acciones completado!\n\n";e.stocks&&e.stocks.forEach(e=>{s+="".concat(e.symbol,": ").concat(e.analysis.sentiment," (").concat(e.analysis.confidence,"% confianza)\n"),s+="Recomendaci\xf3n: ".concat(e.analysis.recommendation,"\n\n")}),alert(s)}catch(e){console.error("Error en el an\xe1lisis:",e),alert("❌ Error al realizar el an\xe1lisis")}finally{l(!1)}};return(0,s.jsxs)("div",{className:"fixed left-0 top-0 h-full w-16 bg-black border-r border-gray-800 flex flex-col items-center py-4 space-y-4 shadow-lg",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"text-white text-xl font-bold",children:"FF"}),(0,s.jsx)("div",{className:"absolute top-0 right-0.5 text-white text-xl font-bold",children:"FF"})]}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,s.jsx)("button",{onClick:i,disabled:o,className:"w-12 h-32 text-white font-bold rounded-lg shadow-lg transform hover:scale-105 transition-all duration-300 flex items-center justify-center border border-gray-600 ".concat(o?"bg-gray-600 cursor-not-allowed":"bg-gray-800 hover:bg-gray-700"),children:(0,s.jsx)("div",{className:"flex flex-col items-center justify-center space-y-1",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xs leading-tight animate-pulse",children:"A"}),(0,s.jsx)("span",{className:"text-xs leading-tight animate-pulse",children:"N"}),(0,s.jsx)("span",{className:"text-xs leading-tight animate-pulse",children:"A"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xs leading-tight",children:"R"}),(0,s.jsx)("span",{className:"text-xs leading-tight",children:"U"}),(0,s.jsx)("span",{className:"text-xs leading-tight",children:"N"})]})})})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gray-700 rounded shadow-sm"}),(0,s.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mx-auto shadow-sm"}),(0,s.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mx-auto shadow-sm"}),(0,s.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mx-auto shadow-sm"})]})]})}},9241:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>H});var s=a(5155),r=a(2115),n=a(5695),o=a(9982),l=a(7168),i=a(9852),c=a(8482),d=a(2713),m=a(4835),u=a(4616),g=a(8564),x=a(7924),h=a(4416),y=a(2486);function f(e){let{text:t,speed:a=80,delay:n=0,className:o=""}=e,[l,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(0),[m,u]=(0,r.useState)(!1),[g,x]=(0,r.useState)(!1),[h,y]=(0,r.useState)("");return(0,r.useEffect)(()=>{if(n>0){let e=setTimeout(()=>{u(!0)},n);return()=>clearTimeout(e)}u(!0)},[n]),(0,r.useEffect)(()=>{if(m){if(t!==h&&""!==h){x(!0),y(t);return}if(g)if(l.length>0){let e=setTimeout(()=>{i(e=>e.slice(0,-1))},a/2);return()=>clearTimeout(e)}else{x(!1),d(0);return}if(c<t.length){let e=setTimeout(()=>{i(e=>e+t[c]),d(e=>e+1)},a);return()=>clearTimeout(e)}y(t)}},[c,t,a,m,g,l,h]),(0,s.jsxs)("span",{className:o,children:[l,(0,s.jsx)("span",{className:"inline-block w-0.5 bg-white ml-1 animate-blink",style:{height:"1.2em",verticalAlign:"text-top",marginTop:"-0.1em"}})]})}let b=["What markets can I help you explore?","Ready to discover your next profitable trade?","Let's analyze the markets together","Find hidden opportunities in any asset","Transform your trading with AI insights","Unlock the secrets of market movements","Navigate the markets with confidence","Discover patterns others can't see","Turn market data into profits","Your AI-powered trading companion","Analyze any asset in seconds","Find the perfect entry and exit points","Master the art of market timing","Get ahead of market trends","Make data-driven trading decisions","Explore stocks, crypto, and more","Identify undervalued opportunities","Track your portfolio performance","Get real-time market insights","Transform your trading strategy"],p=()=>{let e=Math.floor(Math.random()*b.length);return b[e]};var v=a(1853),j=a(3999);function w(e){let{...t}=e;return(0,s.jsx)(v.bL,{"data-slot":"dropdown-menu",...t})}function N(e){let{...t}=e;return(0,s.jsx)(v.l9,{"data-slot":"dropdown-menu-trigger",...t})}function k(e){let{className:t,sideOffset:a=4,...r}=e;return(0,s.jsx)(v.ZL,{children:(0,s.jsx)(v.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,j.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function S(e){let{className:t,inset:a,variant:r="default",...n}=e;return(0,s.jsx)(v.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":r,className:(0,j.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function C(e){let{className:t,inset:a,...r}=e;return(0,s.jsx)(v.JU,{"data-slot":"dropdown-menu-label","data-inset":a,className:(0,j.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...r})}function A(e){let{className:t,...a}=e;return(0,s.jsx)(v.wv,{"data-slot":"dropdown-menu-separator",className:(0,j.cn)("bg-border -mx-1 my-1 h-px",t),...a})}var E=a(4011);function F(e){let{className:t,...a}=e;return(0,s.jsx)(E.bL,{"data-slot":"avatar",className:(0,j.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function T(e){let{className:t,...a}=e;return(0,s.jsx)(E._V,{"data-slot":"avatar-image",className:(0,j.cn)("aspect-square size-full",t),...a})}function I(e){let{className:t,...a}=e;return(0,s.jsx)(E.H4,{"data-slot":"avatar-fallback",className:(0,j.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}var z=a(5452);function _(e){let{...t}=e;return(0,s.jsx)(z.bL,{"data-slot":"dialog",...t})}function D(e){let{...t}=e;return(0,s.jsx)(z.l9,{"data-slot":"dialog-trigger",...t})}function L(e){let{...t}=e;return(0,s.jsx)(z.ZL,{"data-slot":"dialog-portal",...t})}function M(e){let{className:t,...a}=e;return(0,s.jsx)(z.hJ,{"data-slot":"dialog-overlay",className:(0,j.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function P(e){let{className:t,children:a,showCloseButton:r=!0,...n}=e;return(0,s.jsxs)(L,{"data-slot":"dialog-portal",children:[(0,s.jsx)(M,{}),(0,s.jsxs)(z.UC,{"data-slot":"dialog-content",className:(0,j.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[a,r&&(0,s.jsxs)(z.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(h.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function U(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,j.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function O(e){let{className:t,...a}=e;return(0,s.jsx)(z.hE,{"data-slot":"dialog-title",className:(0,j.cn)("text-lg leading-none font-semibold",t),...a})}function G(e){let{className:t,...a}=e;return(0,s.jsx)(z.VY,{"data-slot":"dialog-description",className:(0,j.cn)("text-muted-foreground text-sm",t),...a})}var V=a(9708);let J=(0,a(2085).F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function R(e){let{className:t,variant:a,asChild:r=!1,...n}=e,o=r?V.DX:"span";return(0,s.jsx)(o,{"data-slot":"badge",className:(0,j.cn)(J({variant:a}),t),...n})}var B=a(8525);function H(){var e,t,a;let[b,v]=(0,r.useState)(null),[E,z]=(0,r.useState)(!0),[L,M]=(0,r.useState)(""),[V,J]=(0,r.useState)(p()),[H,Z]=(0,r.useState)("green"),[W,$]=(0,r.useState)(!1),[Y,X]=(0,r.useState)([]),[Q,q]=(0,r.useState)([]),[K,ee]=(0,r.useState)(""),[et,ea]=(0,r.useState)([]),[es,er]=(0,r.useState)(0),[en,eo]=(0,r.useState)(!1),[el,ei]=(0,r.useState)(-1),[ec,ed]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=setInterval(()=>{er(e=>3===e?0:e+1)},3e3);return()=>clearInterval(e)},[]);let em=(0,n.useRouter)(),eu=[{symbol:"AAPL",name:"Apple Inc.",type:"Stock",category:"Technology"},{symbol:"MSFT",name:"Microsoft Corporation",type:"Stock",category:"Technology"},{symbol:"GOOGL",name:"Alphabet Inc.",type:"Stock",category:"Technology"},{symbol:"TSLA",name:"Tesla Inc.",type:"Stock",category:"Technology"},{symbol:"NVDA",name:"NVIDIA Corporation",type:"Stock",category:"Technology"},{symbol:"META",name:"Meta Platforms",type:"Stock",category:"Technology"},{symbol:"AMZN",name:"Amazon.com Inc.",type:"Stock",category:"Technology"},{symbol:"NFLX",name:"Netflix Inc.",type:"Stock",category:"Technology"},{symbol:"JPM",name:"JPMorgan Chase",type:"Stock",category:"Finance"},{symbol:"BAC",name:"Bank of America",type:"Stock",category:"Finance"},{symbol:"WFC",name:"Wells Fargo",type:"Stock",category:"Finance"},{symbol:"GS",name:"Goldman Sachs",type:"Stock",category:"Finance"},{symbol:"JNJ",name:"Johnson & Johnson",type:"Stock",category:"Healthcare"},{symbol:"PFE",name:"Pfizer Inc.",type:"Stock",category:"Healthcare"},{symbol:"UNH",name:"UnitedHealth Group",type:"Stock",category:"Healthcare"},{symbol:"ABBV",name:"AbbVie Inc.",type:"Stock",category:"Healthcare"},{symbol:"XOM",name:"Exxon Mobil",type:"Stock",category:"Energy"},{symbol:"CVX",name:"Chevron Corporation",type:"Stock",category:"Energy"},{symbol:"COP",name:"ConocoPhillips",type:"Stock",category:"Energy"},{symbol:"BTC",name:"Bitcoin",type:"Crypto",category:"Cryptocurrency"},{symbol:"ETH",name:"Ethereum",type:"Crypto",category:"Cryptocurrency"},{symbol:"BNB",name:"Binance Coin",type:"Crypto",category:"Cryptocurrency"},{symbol:"ADA",name:"Cardano",type:"Crypto",category:"Cryptocurrency"},{symbol:"SOL",name:"Solana",type:"Crypto",category:"Cryptocurrency"},{symbol:"DOT",name:"Polkadot",type:"Crypto",category:"Cryptocurrency"},{symbol:"SPY",name:"SPDR S&P 500 ETF",type:"ETF",category:"Index"},{symbol:"QQQ",name:"Invesco QQQ Trust",type:"ETF",category:"Technology"},{symbol:"VTI",name:"Vanguard Total Stock Market ETF",type:"ETF",category:"Index"},{symbol:"VEA",name:"Vanguard FTSE Developed Markets ETF",type:"ETF",category:"International"},{symbol:"VWO",name:"Vanguard FTSE Emerging Markets ETF",type:"ETF",category:"International"},{symbol:"GLD",name:"SPDR Gold Shares",type:"ETF",category:"Commodity"},{symbol:"SLV",name:"iShares Silver Trust",type:"ETF",category:"Commodity"},{symbol:"GC",name:"Gold Futures",type:"Commodity",category:"Precious Metals"},{symbol:"SI",name:"Silver Futures",type:"Commodity",category:"Precious Metals"},{symbol:"CL",name:"Crude Oil Futures",type:"Commodity",category:"Energy"},{symbol:"NG",name:"Natural Gas Futures",type:"Commodity",category:"Energy"},{symbol:"EUR/USD",name:"Euro/US Dollar",type:"Forex",category:"Currency"},{symbol:"GBP/USD",name:"British Pound/US Dollar",type:"Forex",category:"Currency"},{symbol:"USD/JPY",name:"US Dollar/Japanese Yen",type:"Forex",category:"Currency"},{symbol:"USD/CHF",name:"US Dollar/Swiss Franc",type:"Forex",category:"Currency"},{symbol:"AUD/USD",name:"Australian Dollar/US Dollar",type:"Forex",category:"Currency"}],eg=(0,o.kT)("https://yhxdyndkdhhnuginaekn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InloeGR5bmRrZGhobnVnaW5hZWtuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTYxMTgsImV4cCI6MjA2NjI5MjExOH0.-3qFN_HEZx7i1rGhpaZg9edxoSRDgUkPzDYfrPNiIqI");(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await eg.auth.getUser();v(e),z(!1)})()},[eg.auth]),(0,r.useEffect)(()=>{if(b)return;let e=setInterval(()=>{J(p())},8e3);return()=>clearInterval(e)},[b]),(0,r.useEffect)(()=>{let e=["green","yellow","red"],t=setInterval(()=>{Z(e[Math.floor(Math.random()*e.length)])},2e3);return()=>clearInterval(t)},[]);let ex=async()=>{await eg.auth.signOut(),v(null),em.push((0,j.a)("/login"))},eh=()=>{if(!b)return void em.push((0,j.a)("/login"));if(L.trim()){let e=L.split(",").map(e=>e.trim().toUpperCase()).filter(e=>e.length>0);if(e.length>0){let t=e.filter(e=>eu.some(t=>t.symbol===e));if(t.length>0){let e=[...Y];t.forEach(t=>{e.includes(t)||e.push(t)}),X(e),console.log("Added ".concat(t.length," assets to portfolio:"),t),M(""),ev(e),$(!0)}else console.log("No valid assets found in the message")}}},ey=eu.filter(e=>{let t=K.toLowerCase();return e.symbol.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)}),ef=e=>{M(e.symbol),eo(!1),ei(-1)};(0,r.useEffect)(()=>{let e=()=>{eo(!1),ei(-1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);let eb=e=>{Y.includes(e)?X(Y.filter(t=>t!==e)):X([...Y,e])},ep=async()=>{if(b&&0!==Y.length)try{let{data:e,error:t}=await eg.from("user_selected_assets").upsert(Y.map(e=>{let t=eu.find(t=>t.symbol===e);return{user_id:b.id,asset_identifier:e,asset_type:(null==t?void 0:t.type)||null,asset_name:(null==t?void 0:t.name)||null,selected_at:new Date().toISOString()}}),{onConflict:"user_id,asset_identifier"});if(t){console.error("Error saving portfolio:",t),alert("Error saving portfolio. Please try again.");return}console.log("Portfolio saved successfully:",e),q(Y),$(!1),X([])}catch(e){console.error("Error saving portfolio:",e),alert("Error saving portfolio. Please try again.")}},ev=async e=>{if(b&&0!==e.length)try{let{data:t,error:a}=await eg.from("user_selected_assets").upsert(e.map(e=>{let t=eu.find(t=>t.symbol===e);return{user_id:b.id,asset_identifier:e,asset_type:(null==t?void 0:t.type)||null,asset_name:(null==t?void 0:t.name)||null,selected_at:new Date().toISOString()}}),{onConflict:"user_id,asset_identifier"});if(a)return void console.error("Error saving portfolio from chat:",a);console.log("Portfolio saved from chat successfully:",t),q(e)}catch(e){console.error("Error saving portfolio from chat:",e)}},ej=async()=>{if(b)try{let{data:e,error:t}=await eg.from("user_selected_assets").select("asset_identifier").eq("user_id",b.id);if(t)return void console.error("Error loading user assets:",t);let a=e.map(e=>e.asset_identifier);X(a),q(a),a.length>0&&ed(null)}catch(e){console.error("Error loading user assets:",e)}},ew=()=>{switch(H){case"green":default:return"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700";case"yellow":return"bg-gradient-to-r from-yellow-400 to-amber-500 hover:from-yellow-500 hover:to-amber-600";case"red":return"bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700"}};return E?(0,s.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,s.jsx)("p",{className:"mt-2 text-gray-400",children:"Loading..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen text-white relative",children:[(0,s.jsx)("div",{className:"fixed inset-0 z-0 bg-gradient-to-br from-black via-purple-900 via-indigo-900 to-black"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("div",{className:"fixed top-4 left-4 z-50",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"text-white text-xl font-bold",children:"FF"}),(0,s.jsx)("div",{className:"absolute top-0 right-0.5 text-white text-xl font-bold",children:"FF"})]}),b?(0,s.jsx)(l.$,{size:"icon",className:"text-white transition-all duration-500 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 border border-gray-600 ".concat(ew()),onClick:()=>em.push((0,j.a)("/dashboard")),children:(0,s.jsx)(d.A,{className:"h-4 w-4"})}):(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(l.$,{size:"icon",className:"text-white transition-all duration-500 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 border border-gray-600 cursor-not-allowed ".concat(ew()),disabled:!0,children:(0,s.jsx)(d.A,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-md shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-50",children:["Login to access Dashboard",(0,s.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})]})}),(0,s.jsx)(B.default,{selectedAssets:Y,onAnalysisComplete:e=>{ed(e),console.log("An\xe1lisis actualizado autom\xe1ticamente:",e)}}),(0,s.jsx)("div",{className:"ml-16 p-8",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{children:b?(0,s.jsxs)(w,{children:[(0,s.jsx)(N,{asChild:!0,children:(0,s.jsx)(l.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full hover:bg-gray-800 transition-colors",children:(0,s.jsxs)(F,{className:"h-8 w-8 shadow-md bg-white text-black",children:[(0,s.jsx)(T,{src:"/avatars/01.png",alt:b.email}),(0,s.jsx)(I,{className:"bg-white text-black",children:null==(e=b.email)?void 0:e.charAt(0).toUpperCase()})]})})}),(0,s.jsxs)(k,{className:"w-80 bg-gray-900 border-gray-700 shadow-xl",align:"end",forceMount:!0,children:[(0,s.jsx)(C,{className:"font-normal",children:(0,s.jsx)("div",{className:"flex flex-col space-y-1",children:(0,s.jsx)("p",{className:"text-sm font-medium leading-none text-white",children:b.email})})}),(0,s.jsx)(A,{}),(0,s.jsxs)(S,{onClick:ex,className:"text-red-400 hover:text-red-300 hover:bg-gray-800 transition-colors",children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Log out"})]})]})]}):(0,s.jsx)("div",{className:"space-x-2",children:(0,s.jsx)(l.$,{variant:"ghost",onClick:()=>em.push((0,j.a)("/login")),className:"text-gray-300 hover:text-white hover:bg-gray-800 transition-colors",children:"Login to FF"})})})]}),(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-2",children:b?"Welcome back, ".concat(b.email,"!"):(0,s.jsx)(f,{text:V,speed:80,delay:500,className:"text-4xl font-black"})}),b&&(0,s.jsx)("p",{className:"text-gray-400 mb-8",children:"Ready to dive into your next trading opportunity?"}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto mb-12",children:[(0,s.jsx)("div",{className:"relative bg-gray-900 rounded-lg border border-gray-700 p-4 shadow-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(i.p,{value:L,onChange:e=>{let t=e.target.value;if(M(t),b&&t.trim()){let e=(e=>{if(!e.trim())return[];let t=e.toLowerCase();return eu.filter(e=>e.symbol.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)).slice(0,5)})(t);ea(e),eo(e.length>0),ei(-1)}else eo(!1),ea([])},onKeyPress:e=>{"Enter"===e.key?en&&el>=0?(e.preventDefault(),ef(et[el])):eh():"ArrowDown"===e.key?(e.preventDefault(),en&&ei(e=>e<et.length-1?e+1:e)):"ArrowUp"===e.key?(e.preventDefault(),en&&ei(e=>e>0?e-1:-1)):"Escape"===e.key&&(eo(!1),ei(-1))},placeholder:b?"Type asset symbols (e.g., AAPL, TSLA, MSFT) or click + button...":"Type to start selecting assets with Financial Feeling (sign in to send messages)",className:"bg-transparent border-none text-white placeholder-gray-400 focus-visible:ring-0"}),en&&b&&(0,s.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:et.map((e,t)=>(0,s.jsx)("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-700 transition-colors ".concat(t===el?"bg-gray-700":""),onClick:()=>ef(e),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white font-semibold",children:e.symbol}),(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:e.name})]}),(0,s.jsx)("div",{className:"text-gray-500 text-xs",children:e.type})]})},e.symbol))})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(_,{open:W,onOpenChange:$,children:[(0,s.jsx)(D,{asChild:!0,children:(0,s.jsx)(l.$,{size:"icon",className:"shadow-md transition-colors ".concat(b?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700"),onClick:b?()=>{$(!0),ej()}:()=>em.push((0,j.a)("/login")),children:(0,s.jsx)(u.A,{className:"h-4 w-4"})})}),b&&(0,s.jsxs)(P,{className:"bg-gray-900 border-gray-700 max-w-4xl max-h-[80vh] overflow-hidden",children:[(0,s.jsxs)(U,{className:"relative",children:[(0,s.jsxs)(O,{className:"text-white flex items-center gap-2",children:[(0,s.jsx)(g.A,{className:"h-5 w-5"}),"Select Financial Assets for Your Portfolio"]}),(0,s.jsx)(G,{className:"text-gray-400",children:"Choose from a wide range of stocks, cryptocurrencies, ETFs, commodities, and forex pairs."}),(0,s.jsx)("div",{className:"absolute top-0 right-0",children:(0,s.jsx)(l.$,{onClick:ep,disabled:0===Y.length,className:"bg-black hover:bg-gray-800 text-white",children:(()=>{if(Q.length!==Y.length)return!0;let e=[...Q].sort(),t=[...Y].sort();return!e.every((e,a)=>e===t[a])})()?"Save & Close (".concat(Y.length," assets)"):"Close"})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,s.jsx)(i.p,{placeholder:"Search assets by symbol, name, or category...",value:K,onChange:e=>ee(e.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:["All","Technology","Finance","Healthcare","Energy","Cryptocurrency","Index","International","Commodity","Currency"].map(e=>(0,s.jsx)(R,{variant:K===e?"default":"secondary",className:"cursor-pointer hover:bg-blue-600",onClick:()=>ee("All"===e?"":e),children:e},e))}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto",children:ey.map(e=>(0,s.jsxs)("div",{className:"p-3 rounded-lg border cursor-pointer transition-all relative ".concat(Y.includes(e.symbol)?"bg-blue-600 border-blue-500 text-white":"bg-gray-800 border-gray-600 hover:bg-gray-700 text-gray-300"),onClick:()=>eb(e.symbol),children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"font-semibold text-lg mb-1",children:e.symbol}),(0,s.jsx)("div",{className:"text-xs opacity-75 mb-1",children:e.name}),(0,s.jsx)("div",{className:"text-xs opacity-75",children:e.type})]}),Y.includes(e.symbol)&&(0,s.jsx)("div",{className:"absolute top-2 right-2 bg-green-500 rounded-full p-1",children:(0,s.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})})]},e.symbol))}),Y.length>0&&(0,s.jsxs)("div",{className:"border-t border-gray-700 pt-4",children:[(0,s.jsxs)("h4",{className:"text-white font-semibold mb-2",children:["Selected Assets (",Y.length,") - Click to remove"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:Y.map(e=>(eu.find(t=>t.symbol===e),(0,s.jsxs)(R,{className:"bg-blue-600 hover:bg-red-600 cursor-pointer transition-colors flex items-center gap-1",onClick:()=>eb(e),children:[e,(0,s.jsx)(h.A,{className:"h-3 w-3 hover:text-red-200"})]},e)))})]}),(0,s.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-700",children:(0,s.jsx)(l.$,{variant:"outline",onClick:()=>$(!1),className:"border-red-600 text-red-600 hover:bg-red-600 hover:text-black",children:"Cancel"})})]})]})]}),(0,s.jsx)(l.$,{size:"icon",className:"bg-blue-600 hover:bg-blue-700 shadow-md transition-colors",onClick:eh,disabled:!b||!L.trim(),children:(0,s.jsx)(y.A,{className:"h-4 w-4"})})]})]})}),!b&&(0,s.jsxs)("p",{className:"text-gray-500 text-sm mt-2",children:[(0,s.jsx)(l.$,{variant:"link",onClick:()=>em.push((0,j.a)("/login")),className:"text-blue-400 hover:text-blue-300 p-0",children:"Sign in"})," ","to start collaborating with Financial Feeling"]})]})]}),ec&&b&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-white",children:"AI Sentiment Analysis Results"}),(0,s.jsx)(c.Zp,{className:"bg-gray-900 border-gray-700",children:(0,s.jsx)(c.Wu,{className:"p-6",children:(0,s.jsx)("div",{className:"space-y-4",children:null==(a=ec.data)||null==(t=a.stocks)?void 0:t.map((e,t)=>(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-4 last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white",children:e.symbol}),(0,s.jsx)(R,{className:"".concat("positive"===e.analysis.sentiment?"bg-green-600":"negative"===e.analysis.sentiment?"bg-red-600":"bg-yellow-600"),children:e.analysis.sentiment})]}),(0,s.jsx)("p",{className:"text-gray-300 mb-2",children:e.analysis.recommendation}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Confidence: ",e.analysis.confidence,"%"]})]},t))})})})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-6xl font-bold mb-6 text-center",style:{fontFamily:"Newsreader, serif",fontWeight:800},children:"Learn to Use Stock Analysis"}),(0,s.jsx)(c.Zp,{className:"bg-gray-900 border-gray-700",children:(0,s.jsx)(c.Wu,{className:"p-8",children:(0,s.jsxs)("div",{className:"relative h-64 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:"translateX(-".concat(100*es,"%)")},children:[(0,s.jsx)("div",{className:"w-full flex-shrink-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-md",children:[(0,s.jsx)("div",{className:"text-6xl font-bold text-blue-500 mb-4",children:"1"}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Enter Stock Symbols"}),(0,s.jsxs)("p",{className:"text-gray-300 text-lg",children:["Type the stock symbols you want to analyze, separated by commas.",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-blue-400 font-semibold",children:"Example: AAPL, TSLA, MSFT, GOOGL"})]})]})}),(0,s.jsx)("div",{className:"w-full flex-shrink-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-md",children:[(0,s.jsx)("div",{className:"text-6xl font-bold text-green-500 mb-4",children:"2"}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Get AI Analysis"}),(0,s.jsx)("p",{className:"text-gray-300 text-lg",children:"Our AI will analyze market data, trends, and provide trading recommendations with confidence scores for each stock."})]})}),(0,s.jsx)("div",{className:"w-full flex-shrink-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-md",children:[(0,s.jsx)("div",{className:"text-6xl font-bold text-yellow-500 mb-4",children:"3"}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"Review Results"}),(0,s.jsx)("p",{className:"text-gray-300 text-lg",children:"View detailed analysis including price changes, recommendations, and confidence levels for informed decision making."})]})}),(0,s.jsx)("div",{className:"w-full flex-shrink-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center max-w-md",children:[(0,s.jsx)("div",{className:"text-6xl font-bold text-purple-500 mb-4",children:"4"}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"A good company with bad news is a BUY"}),(0,s.jsx)("p",{className:"text-gray-300 text-lg",children:"Use the insights to make informed trading decisions based on AI-powered analysis and market trends."})]})})]}),(0,s.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:[0,1,2,3].map(e=>(0,s.jsx)("button",{onClick:()=>er(e),className:"w-3 h-3 rounded-full transition-colors duration-300 ".concat(es===e?"bg-white":"bg-gray-500")},e))}),(0,s.jsx)("button",{onClick:()=>er(e=>0===e?3:e-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-colors duration-300",children:"←"}),(0,s.jsx)("button",{onClick:()=>er(e=>3===e?0:e+1),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-colors duration-300",children:"→"})]})})})]}),b&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"AI-Powered Stock Analysis"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Get real-time stock analysis with AI recommendations"})]}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(l.$,{onClick:()=>em.push((0,j.a)("/stock-analysis")),className:"bg-blue-600 hover:bg-blue-700 text-white shadow-md transition-colors",children:"Analyze Stocks"})})]})]})})]})]})}},9591:(e,t,a)=>{Promise.resolve().then(a.bind(a,9241))},9852:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(5155);a(2115);var r=a(3999);function n(e){let{className:t,type:a,...n}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}}},e=>{e.O(0,[598,982,255,441,964,358],()=>e(e.s=9591)),_N_E=e.O()}]);