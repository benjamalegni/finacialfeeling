"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[384],{6384:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(5155),a=n(2115),l=n(7431),i=n(5416),s=n(9311);function o(){let e=(0,a.useRef)(null),t=(0,a.useRef)(null),n=(0,a.useRef)(null),o=(0,a.useRef)(null),c=(0,a.useRef)(!1),[d,u]=(0,a.useState)(!0),[f,h]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!e.current||c.current)return;for(c.current=!0;e.current.firstChild;)e.current.removeChild(e.current.firstChild);let r=new l.Z58;r.background=new l.Q1f(657930);let a=new l.ubm(60,e.current.clientWidth/e.current.clientHeight,.1,1e3);a.position.set(0,1.8,4);let d=new l.JeP({antialias:!0,alpha:!0});d.setPixelRatio(Math.min(window.devicePixelRatio,2)),d.setSize(e.current.clientWidth,e.current.clientHeight),d.shadowMap.enabled=!0,d.shadowMap.type=l.Wk7,d.outputColorSpace=l.er$,d.domElement.setAttribute("data-three","primary"),e.current.appendChild(d.domElement);let f=new l.$p8(0xffffff,.8);r.add(f);let m=new l.ZyN(0xffffff,1.2);m.position.set(5,8,5),m.castShadow=!0,m.shadow.mapSize.set(2048,2048),r.add(m);let w=new l.ZyN(0xffffff,1);w.position.set(-6,4,-4),r.add(w);let p=new l.HiM(0xffd700,.8,500);p.position.set(-3,2,3),r.add(p);let x=new l.eaF(new l.bdM(30,30),new l._4j({color:1710618,roughness:1}));x.rotation.x=-Math.PI/2,x.position.y=-1.8,x.receiveShadow=!0,r.add(x);let b=new i.N(a,d.domElement);b.enableRotate=!1,b.enablePan=!1,b.enableZoom=!0,b.enableDamping=!0,b.dampingFactor=.05,b.minDistance=1.5,b.maxDistance=8,o.current=b;let g=new l.YJl;n.current=g,r.add(g),new s.B().load("/wall-street-charging-bull/source/poly.glb",e=>{let t=e.scene;t.traverse(e=>{if(e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material)){let t=e.material;t.metalness=.3,t.roughness=.7}});let n=new l.NRn().setFromObject(t),r=n.getCenter(new l.Pq0);t.position.sub(r);let i=n.getSize(new l.Pq0),s=Math.max(i.x,i.y,i.z);t.scale.setScalar(5/s),g.add(t);let o=s/(2*Math.tan(a.fov*(Math.PI/180)/2))*1.2;a.position.set(0,.18*s,o),b.target.set(0,0,0),b.update(),u(!1),h(null)},void 0,e=>{console.error("Error loading bull model:",e),h("No se pudo cargar el toro 3D"),u(!1)});let v=()=>{t.current=requestAnimationFrame(v),n.current&&(n.current.rotation.y+=.01),b.update(),d.render(r,a)};v();let N=()=>{if(!e.current)return;let t=e.current.clientWidth,n=e.current.clientHeight;a.aspect=t/n,a.updateProjectionMatrix(),d.setSize(t,n)};return window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N),t.current&&cancelAnimationFrame(t.current),b.dispose(),d.dispose(),e.current&&d.domElement.parentElement===e.current&&e.current.removeChild(d.domElement),c.current=!1}},[]),(0,r.jsxs)("div",{className:"relative w-full h-full",children:[(0,r.jsx)("div",{ref:e,className:"absolute inset-0 w-full h-full",style:{backgroundColor:"black"}}),d&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-black/20 pointer-events-none",children:(0,r.jsx)("div",{className:"text-white text-sm",children:"Cargando toro 3D..."})}),f&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:(0,r.jsx)("div",{className:"bg-red-600/80 text-white px-3 py-2 rounded text-xs shadow",children:f})})]})}}}]);