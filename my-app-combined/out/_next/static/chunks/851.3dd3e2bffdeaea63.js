"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[851],{2851:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(5155),a=n(2115),o=n(7431),i=n(5416),s=n(9311);function c(){let e=(0,a.useRef)(null),t=(0,a.useRef)(null),n=(0,a.useRef)(null),c=(0,a.useRef)(null),l=(0,a.useRef)(null),u=(0,a.useRef)(null),[d,h]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!e.current)return;let r=new o.Z58;t.current=r,r.background=new o.Q1f(0);let a=new o.ubm(75,e.current.clientWidth/e.current.clientHeight,.1,1e3);a.position.set(0,1,3),u.current=a;let p=new o.JeP({antialias:!0,alpha:!0});n.current=p,p.setSize(e.current.clientWidth,e.current.clientHeight),p.shadowMap.enabled=!0,p.shadowMap.type=o.Wk7,p.outputColorSpace=o.er$,e.current.appendChild(p.domElement);let w=new i.N(a,p.domElement);l.current=w,w.enableDamping=!0,w.dampingFactor=.05,w.screenSpacePanning=!1,w.minDistance=1.5,w.maxDistance=8,w.maxPolarAngle=.9*Math.PI,w.enableZoom=!0,w.enableRotate=!0,w.enablePan=!0,w.autoRotate=!0,w.autoRotateSpeed=.5;let x=()=>{console.log("Interaction started"),h(!0),w.autoRotate=!1},g=()=>{console.log("Interaction ended"),h(!1),setTimeout(()=>{d||(w.autoRotate=!0)},2e3)},b=()=>{console.log("Mouse down detected"),h(!0),w.autoRotate=!1},f=()=>{console.log("Mouse up detected"),setTimeout(()=>{h(!1),w.autoRotate=!0},2e3)},v=()=>{console.log("Touch start detected"),h(!0),w.autoRotate=!1},M=()=>{console.log("Touch end detected"),setTimeout(()=>{h(!1),w.autoRotate=!0},2e3)};w.addEventListener("start",x),w.addEventListener("end",g),e.current&&(e.current.addEventListener("mousedown",b),e.current.addEventListener("mouseup",f),e.current.addEventListener("touchstart",v),e.current.addEventListener("touchend",M));let j=new o.$p8(4210752,.8);r.add(j);let k=new o.ZyN(0xffffff,1.2);k.position.set(5,10,5),k.castShadow=!0,k.shadow.mapSize.width=2048,k.shadow.mapSize.height=2048,r.add(k);let y=new o.HiM(0xffd700,1,100);y.position.set(-5,5,5),r.add(y);let z=new o.nCl(0xffffff,1);z.position.set(0,15,0),z.angle=Math.PI/6,z.penumbra=.1,z.decay=2,z.distance=200,z.castShadow=!0,r.add(z);let R=new s.B,N=null;R.load("/wall-street-charging-bull/source/poly.glb",e=>{(N=e.scene).scale.set(.8,.8,.8),N.position.set(0,-.5,0),N.traverse(e=>{e instanceof o.eaF&&(e.castShadow=!0,e.receiveShadow=!0,e.material&&(Array.isArray(e.material)?e.material.forEach(e=>{e instanceof o._4j&&(e.metalness=.3,e.roughness=.7)}):e.material instanceof o._4j&&(e.material.metalness=.3,e.material.roughness=.7)))}),r.add(N),m(!1);let t=new o.NRn().setFromObject(N),n=t.getCenter(new o.Pq0),i=t.getSize(new o.Pq0),s=Math.abs(Math.max(i.x,i.y,i.z)/2/Math.tan(a.fov*(Math.PI/180)/2));a.position.set(0,n.y,1.5*s),a.lookAt(n),w.target.copy(n),w.update()},e=>{console.log("Loading progress:",e.loaded/e.total*100+"%")},e=>{console.error("Error loading model:",e),m(!1),E()});let E=()=>{let e=new o.YJl,t=new o.Ho_(1.5,2,2,8),n=new o.tXL({color:0xdaa520,shininess:100,specular:4473924}),a=new o.eaF(t,n);a.castShadow=!0,a.receiveShadow=!0,e.add(a);let i=new o.Ho_(.1,.1,1.5,6),s=new o.tXL({color:6636321}),c=new o.eaF(i,s);c.position.set(.8,1,0),c.rotation.z=Math.PI/4,c.castShadow=!0,e.add(c);let l=new o.eaF(i,s);l.position.set(-.8,1,0),l.rotation.z=-Math.PI/4,l.castShadow=!0,e.add(l);let u=new o.Gu$(.15,8,8),d=new o.tXL({color:0}),h=new o.eaF(u,d);h.position.set(.5,.3,1.2),e.add(h);let p=new o.eaF(u,d);p.position.set(-.5,.3,1.2),e.add(p);let m=new o.Gu$(.2,8,8),w=new o.tXL({color:0}),x=new o.eaF(m,w);x.position.set(0,-.5,1.5),e.add(x),N=e,r.add(N)},S=new o.bdM(20,20),L=new o.G_z({color:3355443}),P=new o.eaF(S,L);P.rotation.x=-Math.PI/2,P.position.y=-2,P.receiveShadow=!0,r.add(P);let C=()=>{if(c.current=requestAnimationFrame(C),w&&w.update(),N){let e=1+.02*Math.sin(.002*Date.now());N.scale.set(.8*e,.8*e,.8*e),!d&&w.autoRotate&&(N.rotation.y+=.01)}y.position.x=5*Math.sin(.001*Date.now()),y.position.z=5*Math.cos(.001*Date.now()),p.render(r,a)};C();let I=()=>{if(!e.current||!p||!a)return;let t=e.current.clientWidth,n=e.current.clientHeight;a.aspect=t/n,a.updateProjectionMatrix(),p.setSize(t,n)};return window.addEventListener("resize",I),()=>{window.removeEventListener("resize",I),w&&(w.removeEventListener("start",x),w.removeEventListener("end",g)),e.current&&(e.current.removeEventListener("mousedown",b),e.current.removeEventListener("mouseup",f),e.current.removeEventListener("touchstart",v),e.current.removeEventListener("touchend",M)),c.current&&cancelAnimationFrame(c.current),e.current&&p.domElement&&e.current.removeChild(p.domElement),p.dispose()}},[]),(0,r.jsxs)("div",{className:"relative w-full h-full",children:[(0,r.jsx)("div",{ref:e,className:"w-full h-full absolute inset-0 transition-all duration-300 ".concat(d?"cursor-grabbing":"cursor-grab"),style:{background:"linear-gradient(to bottom, #1a1a1a, #000000)"},children:p&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10",children:(0,r.jsxs)("div",{className:"text-white text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-400 mx-auto mb-4"}),(0,r.jsx)("p",{children:"Loading Wall Street Bull 3D model..."})]})})}),(0,r.jsxs)("div",{className:"absolute bottom-4 left-4 z-20 flex flex-col space-y-2",children:[(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{if(u.current&&l.current){let e=u.current.position.distanceTo(l.current.target),t=Math.atan2(u.current.position.x,u.current.position.z)+-.1;u.current.position.x=Math.sin(t)*e,u.current.position.z=Math.cos(t)*e,u.current.lookAt(l.current.target),l.current.update()}},className:"w-12 h-12 bg-black/60 hover:bg-black/80 text-white rounded-lg flex items-center justify-center transition-all duration-200 hover:scale-105",title:"Rotate Left",children:"↶"}),(0,r.jsx)("button",{onClick:()=>{if(u.current&&l.current){let e=u.current.position.distanceTo(l.current.target),t=Math.atan2(u.current.position.x,u.current.position.z)+.1;u.current.position.x=Math.sin(t)*e,u.current.position.z=Math.cos(t)*e,u.current.lookAt(l.current.target),l.current.update()}},className:"w-12 h-12 bg-black/60 hover:bg-black/80 text-white rounded-lg flex items-center justify-center transition-all duration-200 hover:scale-105",title:"Rotate Right",children:"↷"})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{if(u.current&&l.current){let e=u.current.position.distanceTo(l.current.target),t=Math.max(-Math.PI/2+.1,Math.min(Math.PI/2-.1,Math.atan2(u.current.position.y,Math.sqrt(u.current.position.x**2+u.current.position.z**2))+.1)),n=e*Math.cos(t);u.current.position.y=e*Math.sin(t),u.current.position.x=n*Math.sin(Math.atan2(u.current.position.x,u.current.position.z)),u.current.position.z=n*Math.cos(Math.atan2(u.current.position.x,u.current.position.z)),u.current.lookAt(l.current.target),l.current.update()}},className:"w-12 h-12 bg-black/60 hover:bg-black/80 text-white rounded-lg flex items-center justify-center transition-all duration-200 hover:scale-105",title:"Rotate Up",children:"↶"}),(0,r.jsx)("button",{onClick:()=>{if(u.current&&l.current){let e=u.current.position.distanceTo(l.current.target),t=Math.max(-Math.PI/2+.1,Math.min(Math.PI/2-.1,Math.atan2(u.current.position.y,Math.sqrt(u.current.position.x**2+u.current.position.z**2))+-.1)),n=e*Math.cos(t);u.current.position.y=e*Math.sin(t),u.current.position.x=n*Math.sin(Math.atan2(u.current.position.x,u.current.position.z)),u.current.position.z=n*Math.cos(Math.atan2(u.current.position.x,u.current.position.z)),u.current.lookAt(l.current.target),l.current.update()}},className:"w-12 h-12 bg-black/60 hover:bg-black/80 text-white rounded-lg flex items-center justify-center transition-all duration-200 hover:scale-105",title:"Rotate Down",children:"↷"})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{if(u.current&&l.current){let e=new o.Pq0;e.subVectors(u.current.position,l.current.target).normalize();let t=Math.max(1.5,.9*u.current.position.distanceTo(l.current.target));u.current.position.copy(l.current.target).add(e.multiplyScalar(t)),l.current.update()}},className:"w-12 h-12 bg-black/60 hover:bg-black/80 text-white rounded-lg flex items-center justify-center transition-all duration-200 hover:scale-105",title:"Zoom In",children:"+"}),(0,r.jsx)("button",{onClick:()=>{if(u.current&&l.current){let e=new o.Pq0;e.subVectors(u.current.position,l.current.target).normalize();let t=Math.min(8,1.1*u.current.position.distanceTo(l.current.target));u.current.position.copy(l.current.target).add(e.multiplyScalar(t)),l.current.update()}},className:"w-12 h-12 bg-black/60 hover:bg-black/80 text-white rounded-lg flex items-center justify-center transition-all duration-200 hover:scale-105",title:"Zoom Out",children:"−"})]}),(0,r.jsx)("button",{onClick:()=>{l.current&&u.current&&(u.current.position.set(0,1,3),u.current.lookAt(0,0,0),l.current.target.set(0,0,0),l.current.update())},className:"w-12 h-12 bg-red-600 hover:bg-red-700 text-white rounded-lg flex items-center justify-center transition-all duration-200 hover:scale-105",title:"Reset View",children:"⟲"})]}),(0,r.jsxs)("div",{className:"absolute top-4 right-4 z-20 bg-black/60 text-white p-3 rounded-lg text-sm",children:[(0,r.jsx)("div",{className:"font-semibold mb-2",children:"Controls:"}),(0,r.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,r.jsx)("div",{children:"↶ ↷ Rotate"}),(0,r.jsx)("div",{children:"+ − Zoom"}),(0,r.jsx)("div",{children:"⟲ Reset"})]})]})]})}}}]);