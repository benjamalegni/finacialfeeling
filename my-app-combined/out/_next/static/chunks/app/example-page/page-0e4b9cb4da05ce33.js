(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{656:(e,a,t)=>{Promise.resolve().then(t.bind(t,8525)),Promise.resolve().then(t.t.bind(t,6874,23))},1204:(e,a,t)=>{"use strict";t.d(a,{$:()=>n});var s=t(1890);let n={supabase:{url:"https://yhxdyndkdhhnuginaekn.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InloeGR5bmRrZGhobnVnaW5hZWtuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTYxMTgsImV4cCI6MjA2NjI5MjExOH0.-3qFN_HEZx7i1rGhpaZg9edxoSRDgUkPzDYfrPNiIqI"},railway:{webhookUrl:s.env.NEXT_PUBLIC_RAILWAY_WEBHOOK_URL||"https://ffaiagent-n8n-production.up.railway.app/webhook/analyze-stocks"},alphaVantage:{apiKey:"UVJUR5P1SEQ00P2P"},app:{basePath:"/financialfeeling",isStaticExport:"true"===s.env.USE_STATIC_EXPORT}}},8525:(e,a,t)=>{"use strict";t.d(a,{default:()=>r});var s=t(5155),n=t(2115),o=t(1204);async function l(e){try{let a=o.$.railway.webhookUrl;console.log("Calling Railway stock analysis API:",a);let t=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stocks:e})});if(console.log("Railway response status:",t.status),t.ok){let e=await t.json();return console.log("Railway analysis result:",e),{...e,timestamp:new Date().toISOString()}}{let a=await t.text();return console.error("Railway API error:",t.status,a),console.log("Railway not available, using mock data"),i(e)}}catch(a){return console.log("Railway not available or failed, using mock data:",a),i(e)}}function i(e){return{stocks:e.map((e,a)=>({symbol:e,analysis:{sentiment:["positive","negative","neutral"][a%3],confidence:Math.floor(30*Math.random())+70,news:["Strong earnings report exceeds expectations","Regulatory concerns impact market sentiment","Stable performance with moderate growth outlook"][a%3],recommendation:["Buy - Strong fundamentals and growth potential","Hold - Monitor regulatory developments","Hold - Stable performance expected"][a%3]}})),timestamp:new Date().toISOString(),note:"Mock data - Railway workflow not active or not configured"}}function r(e){let{selectedAssets:a=[],onAnalysisComplete:t}=e,[o,i]=(0,n.useState)(!1),r=async()=>{if(0===a.length)return void alert("❌ No hay assets seleccionados para analizar. Selecciona assets en tu portfolio primero.");i(!0);try{console.log("Iniciando an\xe1lisis de acciones...",a);let e=await l(a);console.log("An\xe1lisis completado:",e),t&&t(e);let s="✅ An\xe1lisis de acciones completado!\n\n";e.stocks&&e.stocks.forEach(e=>{s+="".concat(e.symbol,": ").concat(e.analysis.sentiment," (").concat(e.analysis.confidence,"% confianza)\n"),s+="Recomendaci\xf3n: ".concat(e.analysis.recommendation,"\n\n")}),alert(s)}catch(e){console.error("Error en el an\xe1lisis:",e),alert("❌ Error al realizar el an\xe1lisis")}finally{i(!1)}};return(0,s.jsxs)("div",{className:"fixed left-0 top-0 h-full w-16 bg-black border-r border-gray-800 flex flex-col items-center py-4 space-y-4 shadow-lg",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"text-white text-xl font-bold",children:"FF"}),(0,s.jsx)("div",{className:"absolute top-0 right-0.5 text-white text-xl font-bold",children:"FF"})]}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,s.jsx)("button",{onClick:r,disabled:o,className:"w-12 h-32 text-white font-bold rounded-lg shadow-lg transform hover:scale-105 transition-all duration-300 flex items-center justify-center border border-gray-600 ".concat(o?"bg-gray-600 cursor-not-allowed":"bg-gray-800 hover:bg-gray-700"),children:(0,s.jsx)("div",{className:"flex flex-col items-center justify-center space-y-1",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xs leading-tight animate-pulse",children:"A"}),(0,s.jsx)("span",{className:"text-xs leading-tight animate-pulse",children:"N"}),(0,s.jsx)("span",{className:"text-xs leading-tight animate-pulse",children:"A"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xs leading-tight",children:"R"}),(0,s.jsx)("span",{className:"text-xs leading-tight",children:"U"}),(0,s.jsx)("span",{className:"text-xs leading-tight",children:"N"})]})})})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gray-700 rounded shadow-sm"}),(0,s.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mx-auto shadow-sm"}),(0,s.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mx-auto shadow-sm"}),(0,s.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mx-auto shadow-sm"})]})]})}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=656)),_N_E=e.O()}]);