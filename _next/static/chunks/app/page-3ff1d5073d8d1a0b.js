(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6247:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>J});var s=a(5155),r=a(2115),o=a(5695),l=a(7168),n=a(9852),i=a(8482),c=a(4416),d=a(4616),m=a(7924),u=a(2486),b=a(2713);function h(e){let{text:t,speed:a=80,delay:o=0,className:l=""}=e,[n,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(0),[m,u]=(0,r.useState)(!1),[b,h]=(0,r.useState)(!1),[g,x]=(0,r.useState)("");return(0,r.useEffect)(()=>{if(o>0){let e=setTimeout(()=>{u(!0)},o);return()=>clearTimeout(e)}u(!0)},[o]),(0,r.useEffect)(()=>{if(m){if(t!==g&&""!==g){h(!0),x(t);return}if(b)if(n.length>0){let e=setTimeout(()=>{i(e=>e.slice(0,-1))},a/2);return()=>clearTimeout(e)}else{h(!1),d(0);return}if(c<t.length){let e=setTimeout(()=>{i(e=>e+t[c]),d(e=>e+1)},a);return()=>clearTimeout(e)}x(t)}},[c,t,a,m,b,n,g]),(0,s.jsxs)("span",{className:l,children:[n,(0,s.jsx)("span",{className:"inline-block w-0.5 bg-white ml-1 animate-blink",style:{height:"1.2em",verticalAlign:"text-top",marginTop:"-0.1em"}})]})}let g=["What markets can I help you explore?","Ready to discover your next profitable trade?","Let's analyze the markets together","Find hidden opportunities in any asset","Transform your trading with AI insights","Unlock the secrets of market movements","Navigate the markets with confidence","Discover patterns others can't see","Turn market data into profits","Your AI-powered trading companion","Analyze any asset in seconds","Find the perfect entry and exit points","Master the art of market timing","Get ahead of market trends","Make data-driven trading decisions","Explore stocks, crypto, and more","Identify undervalued opportunities","Track your portfolio performance","Get real-time market insights","Transform your trading strategy"],x=()=>{let e=Math.floor(Math.random()*g.length);return g[e]};var y=a(4434),p=a(2880),f=a(1204);let v=(0,p.kT)(f.$W.supabase.url,f.$W.supabase.anonKey);async function j(e){let{data:t,error:a}=await v.from("daily_picks").select("*").eq("pick_date",e).maybeSingle();return a?(console.warn("getDailyPicksFromDB error:",a.message),null):t}async function w(e,t,a){let{data:s,error:r}=await v.from("daily_picks").upsert({pick_date:e,symbols:t,charts:a},{onConflict:"pick_date"}).select("*").maybeSingle();return r?(console.warn("upsertDailyPicks error:",r.message),null):s}var N=a(5452),k=a(3999);function S(e){let{...t}=e;return(0,s.jsx)(N.bL,{"data-slot":"dialog",...t})}function A(e){let{...t}=e;return(0,s.jsx)(N.ZL,{"data-slot":"dialog-portal",...t})}function C(e){let{className:t,...a}=e;return(0,s.jsx)(N.hJ,{"data-slot":"dialog-overlay",className:(0,k.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function E(e){let{className:t,children:a,showCloseButton:r=!0,...o}=e;return(0,s.jsxs)(A,{"data-slot":"dialog-portal",children:[(0,s.jsx)(C,{}),(0,s.jsxs)(N.UC,{"data-slot":"dialog-content",className:(0,k.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...o,children:[a,r&&(0,s.jsxs)(N.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(c.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function T(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,k.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function F(e){let{className:t,...a}=e;return(0,s.jsx)(N.hE,{"data-slot":"dialog-title",className:(0,k.cn)("text-lg leading-none font-semibold",t),...a})}function P(e){let{className:t,...a}=e;return(0,s.jsx)(N.VY,{"data-slot":"dialog-description",className:(0,k.cn)("text-muted-foreground text-sm",t),...a})}var _=a(9708);let D=(0,a(2085).F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function M(e){let{className:t,variant:a,asChild:r=!1,...o}=e,l=r?_.DX:"span";return(0,s.jsx)(l,{"data-slot":"badge",className:(0,k.cn)(D({variant:a}),t),...o})}var L=a(6865),U=a(5028);let I=(0,U.default)(()=>Promise.all([a.e(776),a.e(699)]).then(a.bind(a,8699)).then(e=>e.default),{loadableGenerated:{webpack:()=>[8699]},ssr:!1});function z(e){let{symbol:t,data:a}=e;return(0,s.jsxs)("div",{className:"bg-black/60 rounded-lg p-4 mb-4 hover:bg-black transition-colors duration-300",children:[(0,s.jsx)("h4",{className:"text-white font-bold mb-2",children:t}),(0,s.jsx)(I,{type:"candlestick",series:[{data:a}],options:{chart:{id:"candles",background:"transparent",toolbar:{show:!1},foreColor:"#fff"},xaxis:{type:"category",labels:{style:{colors:"#fff"}},axisBorder:{color:"#333"},axisTicks:{color:"#333"}},yaxis:{labels:{style:{colors:"#fff"}},axisBorder:{color:"#333"},axisTicks:{color:"#333"}},tooltip:{enabled:!0,theme:"dark",style:{fontSize:"12px"}},grid:{borderColor:"#333",strokeDashArray:3,xaxis:{lines:{show:!0,color:"#333"}},yaxis:{lines:{show:!0,color:"#333"}}},plotOptions:{candlestick:{colors:{upward:"#10b981",downward:"#ef4444"}}}},height:300})]})}var O=a(9137),W=a.n(O);let B=(0,U.default)(()=>Promise.all([a.e(367),a.e(992),a.e(384)]).then(a.bind(a,6384)),{loadableGenerated:{webpack:()=>[6384]},ssr:!1,loading:()=>(0,s.jsx)("div",{className:"w-full h-[80vh] bg-gradient-to-b from-neutral-900 to-black rounded-2xl relative flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-white text-lg",children:"Loading interactive 3D model..."})})});function G(){let[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)(!1),[l,n]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{t(Array.from({length:34},(e,t)=>{let a=Math.random()>.5;return{id:t,left:"".concat(Math.max(0,Math.min(98,t/34*100+(6*Math.random()-3))),"%"),baseHeight:40+Math.floor(110*Math.random()),animationDelay:"".concat((2*Math.random()).toFixed(2),"s"),animationDuration:"".concat((4+3.5*Math.random()).toFixed(2),"s"),isGreen:a}}));let e=setTimeout(()=>{o(!0)},800);return()=>clearTimeout(e)},[]),(0,s.jsxs)("div",{className:"jsx-b37319a8b3380b95 w-full h-[80vh] bg-gradient-to-b from-neutral-900 to-black rounded-2xl relative overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-b37319a8b3380b95 absolute inset-0 z-0 overflow-hidden pointer-events-none",children:e.map(e=>(0,s.jsx)("div",{style:{left:e.left},className:"jsx-b37319a8b3380b95 absolute bottom-0 flex items-end",children:(0,s.jsxs)("div",{style:{height:"".concat(e.baseHeight,"px"),transformOrigin:"bottom center",animation:"candleFloat ".concat(e.animationDuration," ease-in-out ").concat(e.animationDelay," infinite"),filter:"blur(0.2px)"},className:"jsx-b37319a8b3380b95 relative flex items-center",children:[(0,s.jsx)("div",{style:{width:"2px",bottom:"100%",height:"".concat(6+Math.floor(12*Math.random()),"px")},className:"jsx-b37319a8b3380b95 absolute left-1/2 -translate-x-1/2 bg-white/40"}),(0,s.jsx)("div",{style:{width:"6px",height:"100%"},className:"jsx-b37319a8b3380b95 "+"".concat(e.isGreen?"bg-emerald-400/35":"bg-rose-400/35"," shadow-sm rounded-sm")}),(0,s.jsx)("div",{style:{width:"2px",top:"100%",height:"".concat(4+Math.floor(10*Math.random()),"px")},className:"jsx-b37319a8b3380b95 absolute left-1/2 -translate-x-1/2 bg-white/40"})]})},e.id))}),(0,s.jsx)("div",{className:"jsx-b37319a8b3380b95 absolute z-20 left-4 top-4 text-white",children:(0,s.jsx)("h1",{className:"jsx-b37319a8b3380b95 text-xl font-semibold",children:"Financial Feeling â€” Interactive 3D Bull"})}),l&&(0,s.jsx)("div",{className:"jsx-b37319a8b3380b95 absolute z-20 top-4 right-4 bg-black/70 backdrop-blur rounded-lg p-4 text-white text-sm max-w-xs"}),(0,s.jsx)("div",{className:"jsx-b37319a8b3380b95 absolute inset-0 z-10",children:a?(0,s.jsx)(B,{}):(0,s.jsx)("div",{className:"jsx-b37319a8b3380b95 absolute inset-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"jsx-b37319a8b3380b95 relative",children:[(0,s.jsxs)("div",{className:"jsx-b37319a8b3380b95 relative w-48 h-48",children:[(0,s.jsx)("div",{className:"jsx-b37319a8b3380b95 absolute inset-0 bg-gradient-to-b from-amber-800 to-amber-900 rounded-full transform rotate-12 shadow-2xl animate-pulse"}),(0,s.jsx)("div",{className:"jsx-b37319a8b3380b95 absolute -top-8 -left-4 w-8 h-16 bg-gradient-to-b from-amber-700 to-amber-900 rounded-full transform -rotate-45 shadow-lg"}),(0,s.jsx)("div",{className:"jsx-b37319a8b3380b95 absolute -top-8 -right-4 w-8 h-16 bg-gradient-to-b from-amber-700 to-amber-900 rounded-full transform rotate-45 shadow-lg"}),(0,s.jsx)("div",{className:"jsx-b37319a8b3380b95 absolute top-8 left-8 w-4 h-4 bg-black rounded-full shadow-inner"}),(0,s.jsx)("div",{className:"jsx-b37319a8b3380b95 absolute top-8 right-8 w-4 h-4 bg-black rounded-full shadow-inner"}),(0,s.jsx)("div",{className:"jsx-b37319a8b3380b95 absolute bottom-4 left-1/2 transform -translate-x-1/2 w-6 h-3 bg-black rounded-full"})]}),(0,s.jsx)("div",{style:{animationDuration:"20s"},className:"jsx-b37319a8b3380b95 absolute inset-0 animate-spin",children:(0,s.jsx)("div",{className:"jsx-b37319a8b3380b95 w-full h-full rounded-full border-2 border-amber-500/30"})})]})})}),(0,s.jsx)(W(),{id:"b37319a8b3380b95",children:"@keyframes candleFloat{0%{transform:translatey(12px)scaley(.8);opacity:0}20%{opacity:.25}50%{transform:translatey(0)scaley(1);opacity:.45}80%{opacity:.25}100%{transform:translatey(-8px)scaley(.85);opacity:0}}"})]})}let $=["AAPL","TSLA","MSFT","GOOGL","AMZN","META","NVDA","NFLX","JPM","BAC","WFC","GS","JNJ","PFE","UNH","ABBV","XOM","CVX","COP","SPY"];async function V(e){let t=(await Promise.all($.map(async t=>{let a=await e(t),s=a[a.length-1];if(!s)return{symbol:t,data:a,changeAbs:-1/0};let[r,o,l,n]=s.y;return{symbol:t,data:a,changeAbs:Math.abs(r>0?(n-r)/r*100:0)}}))).filter(e=>e.data&&e.data.length>0);return 0===t.length?await Promise.all(["AAPL","NVDA","TSLA"].map(async t=>({symbol:t,data:await e(t)}))):t.sort((e,t)=>t.changeAbs-e.changeAbs).slice(0,3).map(e=>{let{symbol:t,data:a}=e;return{symbol:t,data:a}})}function J(){var e,t;let[a,g]=(0,r.useState)(null),[p,N]=(0,r.useState)(!1),[A,C]=(0,r.useState)(""),[_,D]=(0,r.useState)(x()),[U,I]=(0,r.useState)("green"),[O,W]=(0,r.useState)(!1),[B,$]=(0,r.useState)([]),[J,H]=(0,r.useState)([]),[R,Y]=(0,r.useState)([]),[X,Z]=(0,r.useState)(""),[Q,K]=(0,r.useState)([]),[q,ee]=(0,r.useState)(!1),[et,ea]=(0,r.useState)(-1),[es,er]=(0,r.useState)(null),[eo,el]=(0,r.useState)([]),[en,ei]=(0,r.useState)(!0),[ec,ed]=(0,r.useState)("All");async function em(e){try{let t="4b4a29e7548d45caa547dea9a78e0157";if(!t)return console.warn("API key not configured for",e),[];let a="https://api.twelvedata.com/time_series?symbol=".concat(e,"&interval=1day&outputsize=30&apikey=").concat(t,"&format=JSON"),s=await fetch(a);if(!s.ok)return console.error("Error fetching data for ".concat(e,":"),s.status),[];let r=await s.json();if(console.log("TwelveData response for",e,r),!r.values||!Array.isArray(r.values))return console.error("No valid data for ".concat(e,":"),r),[];return r.values.slice(0,30).reverse().map(e=>({x:e.datetime,y:[parseFloat(e.open)||0,parseFloat(e.high)||0,parseFloat(e.low)||0,parseFloat(e.close)||0]})).filter(e=>e.y.every(e=>e>0))}catch(t){return console.error("Error fetching stock data for ".concat(e,":"),t),[]}}async function eu(){try{ei(!0);let e=new Date().toISOString().slice(0,10),t=await j(e);if(t&&t.charts&&Array.isArray(t.charts))try{let e=Array.isArray(t.charts)?t.charts:JSON.parse("string"==typeof t.charts?t.charts:JSON.stringify(t.charts));el(e);return}catch(e){console.warn("Failed to parse cached charts, recomputing...",e)}let a=await V(em);el(a);let s=a.map(e=>e.symbol);await w(e,s,a)}catch(e){console.error("Error fetching all stocks:",e)}finally{ei(!1)}}(0,r.useEffect)(()=>{eu()},[]),(0,r.useEffect)(()=>{(async()=>{try{let{data:{session:e},error:t}=await v.auth.getSession();t?console.error("Error loading session:",t):(null==e?void 0:e.user)?(console.log("User loaded:",e.user),g(e.user)):g(null)}catch(e){console.error("Error in loadUser:",e)}})();let{data:{subscription:e}}=v.auth.onAuthStateChange(async(e,t)=>{console.log("Auth state changed:",e,null==t?void 0:t.user),(null==t?void 0:t.user)?g(t.user):g(null)});return()=>e.unsubscribe()},[]);let eb=[{id:1,title:"Add Your Portfolio",description:"Select up to 2 assets (e.g., AAPL, TSLA) to track and analyze. You can add them from the + button or the chat box.",color:"#3b82f6",background:"/backgrounds/wall-street-bull-bg.png"},{id:2,title:"Run AI Analysis",description:"Launch the analysis when needed to get sentiment, recommendations and confidence scores for each asset.",color:"#10b981"},{id:3,title:"Review Insights",description:"Compare signals, check price trends, and review the confidence to make informed decisions.",color:"#f59e0b"},{id:4,title:"Track & Adjust",description:"Re-run analysis over time, adjust your selection, and monitor how your picks perform.",color:"#8b5cf6"}],eh=(0,o.useRouter)(),eg=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(eg.current){let e=new L.A(eg.current,{type:"carousel",perView:1,gap:32,autoplay:5e3,hoverpause:!0});return e.mount(),()=>e.destroy()}},[]);let ex=[{symbol:"AAPL",name:"Apple Inc.",type:"Stock",category:"Technology"},{symbol:"MSFT",name:"Microsoft Corporation",type:"Stock",category:"Technology"},{symbol:"GOOGL",name:"Alphabet Inc.",type:"Stock",category:"Technology"},{symbol:"TSLA",name:"Tesla Inc.",type:"Stock",category:"Technology"},{symbol:"NVDA",name:"NVIDIA Corporation",type:"Stock",category:"Technology"},{symbol:"META",name:"Meta Platforms",type:"Stock",category:"Technology"},{symbol:"AMZN",name:"Amazon.com Inc.",type:"Stock",category:"Technology"},{symbol:"NFLX",name:"Netflix Inc.",type:"Stock",category:"Technology"},{symbol:"JPM",name:"JPMorgan Chase",type:"Stock",category:"Finance"},{symbol:"BAC",name:"Bank of America",type:"Stock",category:"Finance"},{symbol:"WFC",name:"Wells Fargo",type:"Stock",category:"Finance"},{symbol:"GS",name:"Goldman Sachs",type:"Stock",category:"Finance"},{symbol:"JNJ",name:"Johnson & Johnson",type:"Stock",category:"Healthcare"},{symbol:"PFE",name:"Pfizer Inc.",type:"Stock",category:"Healthcare"},{symbol:"UNH",name:"UnitedHealth Group",type:"Stock",category:"Healthcare"},{symbol:"ABBV",name:"AbbVie Inc.",type:"Stock",category:"Healthcare"},{symbol:"XOM",name:"Exxon Mobil",type:"Stock",category:"Energy"},{symbol:"CVX",name:"Chevron Corporation",type:"Stock",category:"Energy"},{symbol:"COP",name:"ConocoPhillips",type:"Stock",category:"Energy"},{symbol:"BTC",name:"Bitcoin",type:"Crypto",category:"Cryptocurrency"},{symbol:"ETH",name:"Ethereum",type:"Crypto",category:"Cryptocurrency"},{symbol:"BNB",name:"Binance Coin",type:"Crypto",category:"Cryptocurrency"},{symbol:"ADA",name:"Cardano",type:"Crypto",category:"Cryptocurrency"},{symbol:"SOL",name:"Solana",type:"Crypto",category:"Cryptocurrency"},{symbol:"DOT",name:"Polkadot",type:"Crypto",category:"Cryptocurrency"},{symbol:"SPY",name:"SPDR S&P 500 ETF",type:"ETF",category:"Index"},{symbol:"QQQ",name:"Invesco QQQ Trust",type:"ETF",category:"Technology"},{symbol:"VTI",name:"Vanguard Total Stock Market ETF",type:"ETF",category:"Index"},{symbol:"VEA",name:"Vanguard FTSE Developed Markets ETF",type:"ETF",category:"International"},{symbol:"VWO",name:"Vanguard FTSE Emerging Markets ETF",type:"ETF",category:"International"},{symbol:"GLD",name:"SPDR Gold Shares",type:"ETF",category:"Commodity"},{symbol:"SLV",name:"iShares Silver Trust",type:"ETF",category:"Commodity"},{symbol:"GC",name:"Gold Futures",type:"Commodity",category:"Precious Metals"},{symbol:"SI",name:"Silver Futures",type:"Commodity",category:"Precious Metals"},{symbol:"CL",name:"Crude Oil Futures",type:"Commodity",category:"Energy"},{symbol:"NG",name:"Natural Gas Futures",type:"Commodity",category:"Energy"},{symbol:"EUR/USD",name:"Euro/US Dollar",type:"Forex",category:"Currency"},{symbol:"GBP/USD",name:"British Pound/US Dollar",type:"Forex",category:"Currency"},{symbol:"USD/JPY",name:"US Dollar/Japanese Yen",type:"Forex",category:"Currency"},{symbol:"USD/CHF",name:"US Dollar/Swiss Franc",type:"Forex",category:"Currency"},{symbol:"AUD/USD",name:"Australian Dollar/US Dollar",type:"Forex",category:"Currency"}],ey=["All",...Array.from(new Set(ex.map(e=>e.category)))];(0,r.useEffect)(()=>{if(a)return;let e=setInterval(()=>{D(x())},8e3);return()=>clearInterval(e)},[a]),(0,r.useEffect)(()=>{let e=["green","yellow","red"],t=setInterval(()=>{I(e[Math.floor(Math.random()*e.length)])},2e3);return()=>clearInterval(t)},[]);let ep=async()=>{try{await v.auth.signOut()}catch(e){}g(null),eh.push((0,k.a)("/login"))};ex.filter(e=>{let t=X.toLowerCase();return e.symbol.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)});let ef=e=>{C(e.symbol),ee(!1),ea(-1)},ev=e=>{let t=(null!=e?e:A).trim().toUpperCase();return t&&ex.some(e=>e.symbol===t)?B.includes(t)||R.includes(t)?void C(""):new Set([...R,...B]).size>=f.$W.app.maxAssetsPerUser?void alert("Maximum ".concat(f.$W.app.maxAssetsPerUser," assets allowed per user.")):void($([...B,t]),C(""),ee(!1),ea(-1)):void 0};(0,r.useEffect)(()=>{let e=()=>{ee(!1),ea(-1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);let ej=e=>{if(B.includes(e))$(B.filter(t=>t!==e));else{if(R.includes(e))return;if(new Set([...R,...B]).size>=f.$W.app.maxAssetsPerUser)return void alert("Maximum ".concat(f.$W.app.maxAssetsPerUser," assets allowed per user. Please remove an asset before adding a new one."));$([...B,e])}},ew=async e=>{if(a&&0!==e.length)try{let t=Array.from(new Set(e)),s=t.map(e=>({user_id:a.id,asset_identifier:e,selected_at:new Date().toISOString()})),{error:r}=await v.from("user_selected_assets").upsert(s,{onConflict:"user_id,asset_identifier"});if(r)throw r;H(t),Y(t),alert("Portfolio updated successfully")}catch(e){console.error("Error saving portfolio from chat:",e),alert("Error saving portfolio. Please try again.")}},eN=async()=>{if(a)try{let{data:e,error:t}=await v.from("user_selected_assets").select("asset_identifier").eq("user_id",a.id).not("asset_identifier","is",null);if(t)throw t;let s=(e||[]).map(e=>e.asset_identifier);Y(s),H(s),$([]),s.length>0&&er(null)}catch(e){console.error("Error loading user assets:",e)}},ek=async e=>{if(!a)return void eh.push((0,k.a)("/login"));if(R.length>=f.$W.app.maxAssetsPerUser)return void alert("Maximum ".concat(f.$W.app.maxAssetsPerUser," assets allowed per user. Please remove an asset before adding a new one."));if(!R.includes(e.symbol))try{let{error:t}=await v.from("user_selected_assets").upsert({user_id:a.id,asset_identifier:e.symbol,asset_type:e.type||null,asset_name:e.name||null,selected_at:new Date().toISOString()},{onConflict:"user_id,asset_identifier"});if(t){console.error("Error adding asset to database:",t),alert("Error adding asset to portfolio. Please try again.");return}Y(t=>[...t,e.symbol])}catch(e){console.error("Error adding asset:",e),alert("Error adding asset to portfolio. Please try again.")}};return(0,s.jsxs)("div",{className:"min-h-screen text-white relative",children:[(0,s.jsx)("div",{className:"fixed inset-0 z-0 bg-gradient-to-br from-black via-purple-900 via-indigo-900 to-black"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)(y.A,{user:a,onSignOut:ep}),(0,s.jsx)("div",{className:"pt-24 p-8",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-2",children:a?"Welcome back, ".concat(a.email,"!"):(0,s.jsx)(h,{text:_,speed:80,delay:500,className:"text-4xl font-black"})}),a&&(0,s.jsx)("p",{className:"text-gray-400 mb-8",children:"Ready to dive into your next trading opportunity?"}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto mb-12",children:[(0,s.jsx)("div",{className:"relative bg-gray-900 rounded-lg border border-gray-700 p-4 shadow-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 min-h-[2.25rem]",children:[a&&B.map(e=>(0,s.jsxs)(M,{className:"bg-blue-600 hover:bg-red-600 cursor-pointer transition-colors flex items-center gap-1",onClick:()=>ej(e),children:[e,(0,s.jsx)(c.A,{className:"h-3 w-3 hover:text-red-200"})]},e)),(0,s.jsx)(n.p,{value:A,onChange:e=>{let t=e.target.value;if(C(t),a&&t.trim()){let e=(e=>{if(!e.trim())return[];let t=e.toLowerCase();return ex.filter(e=>e.symbol.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)).slice(0,5)})(t);K(e),ee(e.length>0),ea(-1)}else ee(!1),K([])},onKeyPress:e=>{"Enter"===e.key?(e.preventDefault(),q&&et>=0?ef(Q[et]):ev()):"ArrowDown"===e.key?(e.preventDefault(),q&&ea(e=>e<Q.length-1?e+1:e)):"ArrowUp"===e.key?(e.preventDefault(),q&&ea(e=>e>0?e-1:-1)):"Escape"===e.key&&(ee(!1),ea(-1))},onKeyDown:e=>{","===e.key&&(e.preventDefault(),ev())},placeholder:a?"Type asset symbols (e.g., AAPL), press Enter or , to add":"Sign in to start selecting assets with Financial Feeling",className:"bg-transparent border-none text-white placeholder-gray-400 focus-visible:ring-0 flex-1 min-w-[10ch]",disabled:!a}),a&&(0,s.jsxs)("span",{className:"text-xs text-gray-400 ml-1",children:[B.length,"/",f.$W.app.maxAssetsPerUser]})]}),q&&a&&(0,s.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-800 border border-gray-600 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:Q.map((e,t)=>(0,s.jsx)("div",{className:"px-4 py-2 cursor-pointer hover:bg-gray-700 transition-colors ".concat(t===et?"bg-gray-700":""),onClick:()=>ef(e),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white text-sm font-bold",children:e.symbol.charAt(0)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white font-semibold",children:e.symbol}),(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:e.name})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-white font-semibold",children:["$",e.price]}),(0,s.jsxs)("div",{className:"text-sm ".concat(e.change>=0?"text-green-400":"text-red-400"),children:[e.change>=0?"+":"",e.change,"%"]})]})]})},e.symbol))})]}),(0,s.jsx)(l.$,{size:"icon",className:"bg-blue-600 hover:bg-blue-700 shadow-md transition-colors",onClick:()=>{if(!a)return void eh.push((0,k.a)("/login"));W(!0),eN()},disabled:!a||R.length>=f.$W.app.maxAssetsPerUser,children:(0,s.jsx)(d.A,{className:"h-4 w-4"})}),(0,s.jsx)(S,{open:O,onOpenChange:W,children:(0,s.jsxs)(E,{className:"bg-gray-900 border-gray-700 max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,s.jsxs)(T,{children:[(0,s.jsx)(F,{className:"text-white",children:"Select Assets"}),(0,s.jsxs)(P,{className:"text-gray-400",children:["Choose up to ",f.$W.app.maxAssetsPerUser," assets to analyze. You can search by symbol or name."]})]}),(0,s.jsxs)("div",{className:"relative mb-4",children:[(0,s.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,s.jsx)(n.p,{placeholder:"Search assets...",value:X,onChange:e=>Z(e.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400"})]}),(0,s.jsx)("div",{className:"mb-4 flex flex-wrap gap-2",children:ey.map(e=>(0,s.jsx)("button",{onClick:()=>ed(e),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors ".concat(ec===e?"bg-gray-600 text-white border border-gray-500":"bg-gray-700/50 backdrop-blur-sm text-gray-300 hover:bg-gray-600/50 border border-gray-600"),children:e},e))}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto",children:ex.filter(e=>{let t=e.symbol.toLowerCase().includes(X.toLowerCase())||e.name.toLowerCase().includes(X.toLowerCase()),a="All"===ec||e.category===ec;return t&&a}).map(e=>{let t=B.includes(e.symbol)||R.includes(e.symbol);return(0,s.jsx)("div",{className:"p-4 rounded-lg border cursor-pointer transition-colors ".concat(t?"bg-blue-600 border-blue-500":"bg-gray-800 border-gray-600 hover:bg-gray-700"),onClick:()=>ek(e),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold",children:e.symbol.charAt(0)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-white font-semibold",children:e.symbol}),(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:e.name})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:e.type}),(0,s.jsx)("div",{className:"text-gray-500 text-xs",children:e.category})]})]})},e.symbol)})}),B.length>0&&(0,s.jsxs)("div",{className:"border-t border-gray-700 pt-4",children:[(0,s.jsxs)("h4",{className:"text-white font-semibold mb-2",children:["Selected Assets (",R.length+B.length,"/",f.$W.app.maxAssetsPerUser,") - Click to remove",R.length+B.length>=f.$W.app.maxAssetsPerUser&&(0,s.jsx)("span",{className:"text-yellow-400 text-sm ml-2",children:"(Maximum reached)"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:B.map(e=>(ex.find(t=>t.symbol===e),(0,s.jsxs)(M,{className:"bg-blue-600 hover:bg-red-600 cursor-pointer transition-colors flex items-center gap-1",onClick:()=>ej(e),children:[e,(0,s.jsx)(c.A,{className:"h-3 w-3 hover:text-red-200"})]},e)))})]}),(0,s.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-700",children:(0,s.jsx)(l.$,{variant:"outline",onClick:()=>W(!1),className:"border-red-600 text-red-600 hover:bg-red-600 hover:text-black",children:"Cancel"})})]})}),(0,s.jsx)(l.$,{size:"icon",className:"bg-blue-600 hover:bg-blue-700 shadow-md transition-colors",onClick:()=>{if(!a)return void eh.push((0,k.a)("/login"));let e=Array.from(new Set([...R,...B,...A.split(",").map(e=>e.trim().toUpperCase()).filter(e=>e.length>0).filter(e=>ex.some(t=>t.symbol===e))])).slice(0,f.$W.app.maxAssetsPerUser);0!==e.length&&(ew(e),$([]),C(""),ee(!1),ea(-1))},disabled:!a||0===B.length&&!A.trim(),children:(0,s.jsx)(u.A,{className:"h-4 w-4"})})]})}),!a&&(0,s.jsxs)("p",{className:"text-gray-500 text-sm mt-2",children:[(0,s.jsx)(l.$,{variant:"link",onClick:()=>eh.push((0,k.a)("/login")),className:"text-blue-400 hover:text-blue-300 p-0",children:"Sign in"})," ","to start collaborating with Financial Feeling"]})]})]}),es&&a&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-white",children:"AI Sentiment Analysis Results"}),(0,s.jsx)(i.Zp,{className:"bg-gray-900 border-gray-700",children:(0,s.jsx)(i.Wu,{className:"p-6",children:(0,s.jsx)("div",{className:"space-y-4",children:null==(t=es.data)||null==(e=t.stocks)?void 0:e.map((e,t)=>(0,s.jsxs)("div",{className:"border-b border-gray-700 pb-4 last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white",children:e.symbol}),(0,s.jsx)(M,{className:"".concat("positive"===e.analysis.sentiment?"bg-green-600":"negative"===e.analysis.sentiment?"bg-red-600":"bg-yellow-600"),children:e.analysis.sentiment})]}),(0,s.jsx)("p",{className:"text-gray-300 mb-2",children:e.analysis.recommendation}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Confidence: ",e.analysis.confidence,"%"]})]},t))})})})]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-6xl font-bold mb-6 text-center",children:"Our Daily Picks"}),!en&&(0,s.jsx)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:eo.map(e=>0===e.data.length?(0,s.jsxs)("div",{className:"text-red-400 bg-black/60 rounded-lg p-4 mb-4",children:["No data available for ",e.symbol]},e.symbol):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(z,{symbol:e.symbol,data:e.data}),(0,s.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,s.jsxs)(l.$,{onClick:()=>eh.push("/dashboard?symbol=".concat(e.symbol)),size:"sm",className:"bg-transparent hover:bg-gray-700 text-white shadow-lg backdrop-blur-md",children:[(0,s.jsx)(b.A,{className:"w-4 h-4 mr-1"}),"Analyze"]})})]},e.symbol))}),en&&(0,s.jsx)("div",{className:"mt-8 text-center text-white",children:"Loading stock charts..."})]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center",children:"Learn to Use Financial Analysis"}),(0,s.jsx)(i.Zp,{className:"bg-transparent border-transparent shadow-none",children:(0,s.jsx)(i.Wu,{className:"p-8",children:(0,s.jsxs)("div",{ref:eg,className:"glide",children:[(0,s.jsx)("div",{className:"glide__track","data-glide-el":"track",children:(0,s.jsx)("ul",{className:"glide__slides",children:eb.map((e,t)=>(0,s.jsx)("li",{className:"glide__slide text-center flex flex-col justify-center min-h-[280px]",children:(0,s.jsxs)("div",{className:"bg-black/20 backdrop-blur-md rounded-lg p-8 mx-8 border border-white/60 shadow-2xl shadow-black/50 relative overflow-hidden",style:{backgroundImage:e.background?"url(".concat(e.background,")"):"none",backgroundSize:"cover",backgroundPosition:"center",backgroundBlendMode:e.background?"overlay":"normal"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/40"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("h3",{className:"mb-4 text-3xl font-semibold text-white",style:{color:e.color},children:[t+1,". ",e.title]}),(0,s.jsx)("p",{className:"text-gray-200 text-base",children:e.description})]})]})},e.id))})}),(0,s.jsx)("div",{className:"glide__bullets","data-glide-el":"controls[nav]",children:eb.map((e,t)=>(0,s.jsx)("button",{className:"glide__bullet","data-glide-dir":"=".concat(t)},t))})]})})})]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold mb-6 text-center",children:"Get Lucky"}),(0,s.jsx)(G,{})]})]})})]})]})}},6436:(e,t,a)=>{Promise.resolve().then(a.bind(a,6247))},8482:(e,t,a)=>{"use strict";a.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>n,Zp:()=>o,aR:()=>l});var s=a(5155);a(2115);var r=a(3999);function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},9852:(e,t,a)=>{"use strict";a.d(t,{p:()=>o});var s=a(5155);a(2115);var r=a(3999);function o(e){let{className:t,type:a="text",...o}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",suppressHydrationWarning:!0,className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...o})}}},e=>{e.O(0,[277,642,563,529,562,441,964,358],()=>e(e.s=6436)),_N_E=e.O()}]);