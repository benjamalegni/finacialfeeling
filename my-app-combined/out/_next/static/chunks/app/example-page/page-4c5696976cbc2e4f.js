(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{656:(e,t,a)=>{Promise.resolve().then(a.bind(a,8525)),Promise.resolve().then(a.t.bind(a,6874,23))},8525:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});var s=a(5155),n=a(2115);async function o(e){try{let t="https://ffaiagent-n8n-production.up.railway.app/webhook-test/analyze-stocks";console.log("Attempting to call n8n webhook:",t);let a=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stocks:e})});if(console.log("n8n response status:",a.status),a.ok){let e=await a.json();return console.log("n8n analysis result:",e),{...e,timestamp:new Date().toISOString()}}{let t=await a.text();return console.error("n8n webhook error:",a.status,t),console.log("n8n not available, using mock data"),l(e)}}catch(t){return console.log("n8n not available or failed, using mock data:",t),l(e)}}function l(e){return{stocks:e.map((e,t)=>({symbol:e,analysis:{sentiment:["positive","negative","neutral"][t%3],confidence:Math.floor(30*Math.random())+70,news:["Strong earnings report exceeds expectations","Regulatory concerns impact market sentiment","Stable performance with moderate growth outlook"][t%3],recommendation:["Buy - Strong fundamentals and growth potential","Hold - Monitor regulatory developments","Hold - Stable performance expected"][t%3]}})),timestamp:new Date().toISOString(),note:"Mock data - n8n workflow not active or not configured"}}function r(e){let{selectedAssets:t=[],onAnalysisComplete:a}=e,[l,r]=(0,n.useState)(!1),i=async()=>{if(0===t.length)return void alert("❌ No hay assets seleccionados para analizar. Selecciona assets en tu portfolio primero.");r(!0);try{console.log("Iniciando an\xe1lisis de acciones...",t);let e=await o(t);console.log("An\xe1lisis completado:",e),a&&a(e);let s="✅ An\xe1lisis de acciones completado!\n\n";e.stocks&&e.stocks.forEach(e=>{s+="".concat(e.symbol,": ").concat(e.analysis.sentiment," (").concat(e.analysis.confidence,"% confianza)\n"),s+="Recomendaci\xf3n: ".concat(e.analysis.recommendation,"\n\n")}),alert(s)}catch(e){console.error("Error en el an\xe1lisis:",e),alert("❌ Error al realizar el an\xe1lisis")}finally{r(!1)}};return(0,s.jsxs)("div",{className:"fixed left-0 top-0 h-full w-16 bg-black border-r border-gray-800 flex flex-col items-center py-4 space-y-4 shadow-lg",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"text-white text-xl font-bold",children:"FF"}),(0,s.jsx)("div",{className:"absolute top-0 right-0.5 text-white text-xl font-bold",children:"FF"})]}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,s.jsx)("button",{onClick:i,disabled:l,className:"w-12 h-32 text-white font-bold rounded-lg shadow-lg transform hover:scale-105 transition-all duration-300 flex items-center justify-center border border-gray-600 ".concat(l?"bg-gray-600 cursor-not-allowed":"bg-gray-800 hover:bg-gray-700"),children:(0,s.jsx)("div",{className:"flex flex-col items-center justify-center space-y-1",children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xs leading-tight animate-pulse",children:"A"}),(0,s.jsx)("span",{className:"text-xs leading-tight animate-pulse",children:"N"}),(0,s.jsx)("span",{className:"text-xs leading-tight animate-pulse",children:"A"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xs leading-tight",children:"R"}),(0,s.jsx)("span",{className:"text-xs leading-tight",children:"U"}),(0,s.jsx)("span",{className:"text-xs leading-tight",children:"N"})]})})})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gray-700 rounded shadow-sm"}),(0,s.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mx-auto shadow-sm"}),(0,s.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mx-auto shadow-sm"}),(0,s.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mx-auto shadow-sm"})]})]})}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=656)),_N_E=e.O()}]);