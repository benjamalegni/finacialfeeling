(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621],{656:(e,a,s)=>{Promise.resolve().then(s.bind(s,947)),Promise.resolve().then(s.t.bind(s,6874,23))},947:(e,a,s)=>{"use strict";s.d(a,{default:()=>i});var n=s(5155),t=s(2115),o=s(5950);function i(e){let{selectedAssets:a=[],onAnalysisComplete:s}=e,[i,l]=(0,t.useState)(!1),r=async()=>{if(0===a.length)return void alert("❌ No hay assets seleccionados para analizar. Selecciona assets en tu portfolio primero.");l(!0);try{console.log("Iniciando an\xe1lisis de acciones...",a);let e=await (0,o.G)(a);console.log("An\xe1lisis completado:",e),s&&s(e);let n="✅ An\xe1lisis de acciones completado!\n\n";e.stocks&&e.stocks.forEach(e=>{n+="".concat(e.symbol,": ").concat(e.analysis.sentiment," (").concat(e.analysis.confidence,"% confianza)\n"),n+="Recomendaci\xf3n: ".concat(e.analysis.recommendation,"\n\n")}),alert(n)}catch(e){console.error("Error en el an\xe1lisis:",e),alert("❌ Error al realizar el an\xe1lisis")}finally{l(!1)}};return(0,n.jsxs)("div",{className:"fixed left-0 top-0 h-full w-16 bg-black border-r border-gray-800 flex flex-col items-center py-4 space-y-4 shadow-lg",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"text-white text-xl font-bold",children:"FF"}),(0,n.jsx)("div",{className:"absolute top-0 right-0.5 text-white text-xl font-bold",children:"FF"})]}),(0,n.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,n.jsx)("button",{onClick:r,disabled:i,className:"w-12 h-32 text-white font-bold rounded-lg shadow-lg transform hover:scale-105 transition-all duration-300 flex items-center justify-center border border-gray-600 ".concat(i?"bg-gray-600 cursor-not-allowed":"bg-gray-800 hover:bg-gray-700"),children:(0,n.jsx)("div",{className:"flex flex-col items-center justify-center space-y-1",children:i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-xs leading-tight animate-pulse",children:"A"}),(0,n.jsx)("span",{className:"text-xs leading-tight animate-pulse",children:"N"}),(0,n.jsx)("span",{className:"text-xs leading-tight animate-pulse",children:"A"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-xs leading-tight",children:"R"}),(0,n.jsx)("span",{className:"text-xs leading-tight",children:"U"}),(0,n.jsx)("span",{className:"text-xs leading-tight",children:"N"})]})})})}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-gray-700 rounded shadow-sm"}),(0,n.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mx-auto shadow-sm"}),(0,n.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mx-auto shadow-sm"}),(0,n.jsx)("div",{className:"w-4 h-4 bg-gray-600 rounded mx-auto shadow-sm"})]})]})}},1204:(e,a,s)=>{"use strict";s.d(a,{$W:()=>t,hV:()=>o});var n=s(1890);let t={supabase:{url:"https://yhxdyndkdhhnuginaekn.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InloeGR5bmRrZGhobnVnaW5hZWtuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTYxMTgsImV4cCI6MjA2NjI5MjExOH0.-3qFN_HEZx7i1rGhpaZg9edxoSRDgUkPzDYfrPNiIqI"},railway:{webhookUrl:n.env.NEXT_PUBLIC_RAILWAY_WEBHOOK_URL||"https://ffaiagent-n8n-production.up.railway.app/webhook-test/analyze-stocks"},alphaVantage:{apiKey:"UVJUR5P1SEQ00P2P"},app:{basePath:"/financialfeeling",isStaticExport:"true"===n.env.USE_STATIC_EXPORT,url:"https://benjamalegni.github.io/financialfeeling/"}};function o(){let e=t.supabase.url,a=t.supabase.anonKey;return e&&"https://yhxdyndkdhhnuginaekn.supabase.co"!==e||console.warn("Supabase URL parece ser una URL de ejemplo"),(!a||a.includes("Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8"))&&console.warn("Supabase anonKey parece ser una clave de ejemplo"),{isValid:e&&a&&!e.includes("example")&&!a.includes("Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8"),url:e,keyLength:a?a.length:0}}},5950:(e,a,s)=>{"use strict";s.d(a,{G:()=>t});var n=s(1204);async function t(e){try{let a=n.$W.railway.webhookUrl;console.log("Calling Railway stock analysis API:",a);let s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({stocks:e})});if(console.log("Railway response status:",s.status),s.ok){let a=await s.json();console.log("Railway analysis result:",a);let n=[];if(Array.isArray(a)&&a.length>0)if(a[0].forecast){let s=a[0].forecast;if(0===Object.keys(s).length)n=e.map((e,a)=>({symbol:e.toUpperCase(),analysis:{sentiment:["positive","negative","neutral"][a%3],confidence:Math.floor(30*Math.random())+70,news:"Analysis in progress for ".concat(e.toUpperCase()," - Railway backend processing"),recommendation:"Railway analysis completed for ".concat(e.toUpperCase()," - Review market conditions")}}));else for(let a of e){let e=s[a];e&&n.push({symbol:a.toUpperCase(),analysis:{sentiment:e.impact||"neutral",confidence:75,news:e.news||"Analysis completed for ".concat(a.toUpperCase()),recommendation:e.reason||"Based on ".concat(e.impact||"neutral"," impact")}})}}else n=e.map((e,a)=>({symbol:e.toUpperCase(),analysis:{sentiment:["positive","negative","neutral"][a%3],confidence:Math.floor(30*Math.random())+70,news:"Railway analysis completed for ".concat(e.toUpperCase()),recommendation:"Analysis processed - ".concat(e.toUpperCase()," market conditions reviewed")}}));else n=a&&"object"==typeof a?a.data&&Array.isArray(a.data)?a.data.map(e=>{var a,s,n,t;return{symbol:e.symbol||"UNKNOWN",analysis:{sentiment:(null==(a=e.analysis)?void 0:a.sentiment)||"neutral",confidence:(null==(s=e.analysis)?void 0:s.confidence)||75,news:(null==(n=e.analysis)?void 0:n.news)||"Analysis completed",recommendation:(null==(t=e.analysis)?void 0:t.recommendation)||"Review market conditions"}}}):a.analysis?a.analysis.map(e=>({symbol:e.symbol||"UNKNOWN",analysis:{sentiment:e.sentiment||"neutral",confidence:e.confidence||75,news:e.news||"Analysis completed",recommendation:e.recommendation||"Review market conditions"}})):e.map((e,a)=>({symbol:e.toUpperCase(),analysis:{sentiment:["positive","negative","neutral"][a%3],confidence:Math.floor(30*Math.random())+70,news:"Railway analysis completed for ".concat(e.toUpperCase()),recommendation:"Analysis processed - ".concat(e.toUpperCase()," market conditions reviewed")}})):e.map((e,a)=>({symbol:e.toUpperCase(),analysis:{sentiment:["positive","negative","neutral"][a%3],confidence:Math.floor(30*Math.random())+70,news:"Railway analysis completed for ".concat(e.toUpperCase()),recommendation:"Analysis processed - ".concat(e.toUpperCase()," market conditions reviewed")}}));if(n.length>0)return{stocks:n,timestamp:new Date().toISOString(),note:"Analysis from Railway backend - News-based forecasting"};return console.log("No analysis results generated"),null}{let e=await s.text();return console.error("Railway API error:",s.status,e),console.log("Railway API not available, no data to show"),null}}catch(e){return console.log("Railway API call failed, no data to show:",e),null}}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=656)),_N_E=e.O()}]);