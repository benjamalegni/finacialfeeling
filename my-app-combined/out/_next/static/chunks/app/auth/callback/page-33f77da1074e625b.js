(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{1204:(e,n,o)=>{"use strict";o.d(n,{$W:()=>a,M3:()=>t,hV:()=>s});let a={supabase:{url:"https://yhxdyndkdhhnuginaekn.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InloeGR5bmRrZGhobnVnaW5hZWtuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA3MTYxMTgsImV4cCI6MjA2NjI5MjExOH0.-3qFN_HEZx7i1rGhpaZg9edxoSRDgUkPzDYfrPNiIqI"},railway:{webhookUrl:o(9509).env.NEXT_PUBLIC_RAILWAY_WEBHOOK_URL||"https://ffaiagent-n8n-production.up.railway.app/webhook/analyze-stocks"},alphaVantage:{apiKey:"UVJUR5P1SEQ00P2P",baseUrl:"https://www.alphavantage.co/query"},app:{url:window.location.origin,name:"Financial Feeling",description:"AI-powered financial analysis and trading insights"},oauth:{redirectUrl:(()=>{{let e=window.location.origin;return"".concat(e).concat("","/auth/callback")}})(),redirectUrls:{development:"http://localhost:3000/auth/callback",production:"https://www.financialfeeling.com/auth/callback"}}};function t(){return a.oauth.redirectUrl}function s(){let e=a.supabase.url,n=a.supabase.anonKey,o=!e||"https://yhxdyndkdhhnuginaekn.supabase.co"===e,t=!n||n.includes("Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8Ej8"),s=n&&3===n.split(".").length,i=n&&n.length>100&&n.length<500;return o&&console.warn("⚠️ Supabase URL parece ser una URL de ejemplo"),t&&console.warn("⚠️ Supabase anonKey parece ser una clave de ejemplo"),s||console.warn("⚠️ Supabase anonKey no tiene el formato JWT correcto"),i||console.warn("⚠️ Supabase anonKey no tiene la longitud correcta"),{isValid:e&&n&&!o&&!t&&s&&i,url:e,keyLength:n?n.length:0,isExampleUrl:o,isExampleKey:t,isValidJWTFormat:s,isValidLength:i,issues:{exampleUrl:o,exampleKey:t,invalidJWT:!s,invalidLength:!i}}}},1760:e=>{function n(e){var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}n.keys=()=>[],n.resolve=n,n.id=1760,e.exports=n},3999:(e,n,o)=>{"use strict";o.d(n,{a:()=>i,cn:()=>s});var a=o(2596),t=o(9688);function s(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return(0,t.QP)((0,a.$)(n))}function i(e){let n=e.startsWith("/")?e.slice(1):e;return"www.financialfeeling.com"===window.location.hostname||window.location.hostname,"/".concat(n)}},5650:(e,n,o)=>{"use strict";o.r(n),o.d(n,{default:()=>c});var a=o(5155),t=o(2115),s=o(5695),i=o(2880),r=o(3999),l=o(1204);function c(){let e=(0,s.useRouter)(),[n,o]=(0,t.useState)(null),[c,u]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{console.log("Auth callback page loaded"),console.log("Current URL:",window.location.href),console.log("URL search params:",window.location.search),(async()=>{try{let n=(0,i.kT)(l.$W.supabase.url,l.$W.supabase.anonKey),a=new URLSearchParams(window.location.search),t=a.get("code"),s=a.get("error");if(s){console.error("OAuth error:",s),o("Authentication error: ".concat(s)),setTimeout(()=>{e.push((0,r.a)("/login"))},3e3);return}if(t){console.log("OAuth code received:",t);let{data:a,error:s}=await n.auth.exchangeCodeForSession(t);if(s){console.error("Error exchanging code for session:",s),o("Session error: ".concat(s.message)),setTimeout(()=>{e.push((0,r.a)("/login"))},3e3);return}if(a.session){console.log("Session created successfully:",a.session.user.email);let{data:{session:t}}=await n.auth.getSession();t?(console.log("Session verified, redirecting to main page..."),setTimeout(()=>{e.push((0,r.a)("/"))},1e3)):(console.error("Session not found after exchange"),o("Session verification failed"),setTimeout(()=>{e.push((0,r.a)("/login"))},3e3))}else console.error("No session in exchange response"),o("No session received from authentication"),setTimeout(()=>{e.push((0,r.a)("/login"))},3e3)}else{console.log("No OAuth code found, checking for existing session...");let{data:{session:o}}=await n.auth.getSession();o?(console.log("User already authenticated, redirecting to main page..."),setTimeout(()=>{e.push((0,r.a)("/"))},1e3)):(console.log("No session found, redirecting to login..."),setTimeout(()=>{e.push((0,r.a)("/login"))},2e3))}}catch(n){console.error("Unexpected error during auth callback:",n),o("An unexpected error occurred during authentication"),setTimeout(()=>{e.push((0,r.a)("/login"))},3e3)}finally{u(!1)}})()},[e]),(0,a.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-black",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:c?"Processing Authentication...":"Authentication Complete"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:c?"Please wait while we complete your sign-in.":n?"Redirecting to login...":"Redirecting to main page..."}),n&&(0,a.jsx)("div",{className:"text-red-400 bg-red-900/20 p-3 rounded-md border border-red-800 mb-4",children:n}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})]})})}},5695:(e,n,o)=>{"use strict";var a=o(8999);o.o(a,"useRouter")&&o.d(n,{useRouter:function(){return a.useRouter}})},9585:(e,n,o)=>{Promise.resolve().then(o.bind(o,5650))}},e=>{e.O(0,[277,880,441,964,358],()=>e(e.s=9585)),_N_E=e.O()}]);