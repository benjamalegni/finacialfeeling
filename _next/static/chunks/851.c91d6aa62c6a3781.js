"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[851],{2851:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var n=a(5155),r=a(2115),o=a(7431),s=a(5416),i=a(9311);function l(){let e=(0,r.useRef)(null),t=(0,r.useRef)(null),a=(0,r.useRef)(null),l=(0,r.useRef)(null),d=(0,r.useRef)(null),[c,u]=(0,r.useState)(!1),[w,h]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{if(!e.current)return;let n=new o.Z58;t.current=n,n.background=new o.Q1f(0);let r=new o.ubm(75,e.current.clientWidth/e.current.clientHeight,.1,1e3);r.position.set(0,1,3);let c=new o.JeP({antialias:!0,alpha:!0});a.current=c,c.setSize(e.current.clientWidth,e.current.clientHeight),c.shadowMap.enabled=!0,c.shadowMap.type=o.Wk7,c.outputColorSpace=o.er$,e.current.appendChild(c.domElement);let w=new s.N(r,c.domElement);d.current=w,w.enableDamping=!0,w.dampingFactor=.05,w.screenSpacePanning=!1,w.minDistance=1.5,w.maxDistance=8,w.maxPolarAngle=.9*Math.PI,w.enableZoom=!0,w.enableRotate=!0,w.enablePan=!0,w.autoRotate=!1,w.autoRotateSpeed=.5;let m=()=>u(!0),p=()=>u(!1);w.addEventListener("start",m),w.addEventListener("end",p);let f=new o.$p8(4210752,.8);n.add(f);let b=new o.ZyN(0xffffff,1.2);b.position.set(5,10,5),b.castShadow=!0,b.shadow.mapSize.width=2048,b.shadow.mapSize.height=2048,n.add(b);let g=new o.HiM(0xffd700,1,100);g.position.set(-5,5,5),n.add(g);let v=new o.nCl(0xffffff,1);v.position.set(0,15,0),v.angle=Math.PI/6,v.penumbra=.1,v.decay=2,v.distance=200,v.castShadow=!0,n.add(v);let x=new i.B,S=null;x.load("/wall-street-charging-bull/source/poly.glb",e=>{(S=e.scene).scale.set(.8,.8,.8),S.position.set(0,-.5,0),S.traverse(e=>{e instanceof o.eaF&&(e.castShadow=!0,e.receiveShadow=!0,e.material&&(Array.isArray(e.material)?e.material.forEach(e=>{e instanceof o._4j&&(e.metalness=.3,e.roughness=.7)}):e.material instanceof o._4j&&(e.material.metalness=.3,e.material.roughness=.7)))}),n.add(S),h(!1);let t=new o.NRn().setFromObject(S),a=t.getCenter(new o.Pq0),s=t.getSize(new o.Pq0),i=Math.abs(Math.max(s.x,s.y,s.z)/2/Math.tan(r.fov*(Math.PI/180)/2));r.position.set(0,a.y,1.5*i),r.lookAt(a),w.target.copy(a),w.update()},e=>{console.log("Loading progress:",e.loaded/e.total*100+"%")},e=>{console.error("Error loading model:",e),h(!1),M()});let M=()=>{let e=new o.YJl,t=new o.Ho_(1.5,2,2,8),a=new o.tXL({color:0xdaa520,shininess:100,specular:4473924}),r=new o.eaF(t,a);r.castShadow=!0,r.receiveShadow=!0,e.add(r);let s=new o.Ho_(.1,.1,1.5,6),i=new o.tXL({color:6636321}),l=new o.eaF(s,i);l.position.set(.8,1,0),l.rotation.z=Math.PI/4,l.castShadow=!0,e.add(l);let d=new o.eaF(s,i);d.position.set(-.8,1,0),d.rotation.z=-Math.PI/4,d.castShadow=!0,e.add(d);let c=new o.Gu$(.15,8,8),u=new o.tXL({color:0}),w=new o.eaF(c,u);w.position.set(.5,.3,1.2),e.add(w);let h=new o.eaF(c,u);h.position.set(-.5,.3,1.2),e.add(h);let m=new o.Gu$(.2,8,8),p=new o.tXL({color:0}),f=new o.eaF(m,p);f.position.set(0,-.5,1.5),e.add(f),S=e,n.add(S)},E=new o.bdM(20,20),z=new o.G_z({color:3355443}),P=new o.eaF(E,z);P.rotation.x=-Math.PI/2,P.position.y=-2,P.receiveShadow=!0,n.add(P);let y=()=>{if(l.current=requestAnimationFrame(y),w&&w.update(),S){let e=1+.02*Math.sin(.002*Date.now());S.scale.set(.8*e,.8*e,.8*e)}g.position.x=5*Math.sin(.001*Date.now()),g.position.z=5*Math.cos(.001*Date.now()),c.render(n,r)};y();let F=()=>{if(!e.current||!c||!r)return;let t=e.current.clientWidth,a=e.current.clientHeight;r.aspect=t/a,r.updateProjectionMatrix(),c.setSize(t,a)};return window.addEventListener("resize",F),()=>{window.removeEventListener("resize",F),w&&(w.removeEventListener("start",m),w.removeEventListener("end",p)),l.current&&cancelAnimationFrame(l.current),e.current&&c.domElement&&e.current.removeChild(c.domElement),c.dispose()}},[]),(0,n.jsx)("div",{ref:e,className:"w-full h-full absolute inset-0 transition-all duration-300 ".concat(c?"cursor-grabbing":"cursor-grab"),style:{background:"linear-gradient(to bottom, #1a1a1a, #000000)"},children:w&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-10",children:(0,n.jsxs)("div",{className:"text-white text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-400 mx-auto mb-4"}),(0,n.jsx)("p",{children:"Cargando modelo 3D del Toro de Wall Street..."})]})})})}}}]);